{"version":3,"sources":["./src/app/component/email-verify/email-verify.component.html","./src/app/component/email-verify/email-verify-routing.module.ts","./src/app/component/email-verify/email-verify.component.scss","./src/app/component/email-verify/email-verify.component.ts","./src/app/component/email-verify/email-verify.module.ts"],"names":[],"mappings":"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","file":"component-email-verify-email-verify-module-es2015.js","sourcesContent":["export default \"<!-- <app-header></app-header> -->\\r\\n<div  class=\\\"ui-g-12 ui-md-6 ui-md-offset-3\\\" style=\\\"margin-top: 10%;text-align: center\\\">\\r\\n    \\r\\n    <p-messages class=\\\"ui-g-12\\\" styleClass=\\\"loagin-wrapper\\\" ></p-messages>\\r\\n    \\r\\n    <p-card  class=\\\"login-form ui-g-12 ui-md-12\\\"  *ngIf=\\\"!isVerifying\\\">\\r\\n            <i class=\\\"pi pi-envelope\\\" style=\\\"    color: #fff;   background: #FF9800;     border-radius: 100%;margin: 10px;font-size: 50px\\\"></i>\\r\\n\\r\\n         \\r\\n          <div class=\\\"ui-g ui-fluid\\\">\\r\\n              <div class=\\\"ui-g-12 ui-md-12\\\">\\r\\n                  <h2>We are verifying your email address</h2>\\r\\n                  <span>Your identify is being verified. We will email your once your verificaton has completed.</span>\\r\\n          </div>\\r\\n        </div>  \\r\\n        <p-progressSpinner  [style]=\\\"{width: '50px', height: '50px'}\\\"></p-progressSpinner>\\r\\n\\r\\n      </p-card>\\r\\n      <p-card  class=\\\"login-form ui-g-12 ui-md-12\\\"  *ngIf=\\\"isVerifying\\\" >\\r\\n            <div class=\\\"ui-g ui-fluid\\\" *ngIf=\\\"status == 1\\\">\\r\\n                <div class=\\\"ui-g-12 ui-md-12\\\" style=\\\"text-align: center\\\">\\r\\n                    <i class=\\\"pi pi-check\\\" style=\\\"    color: #fff;   background: #08bd65;     border-radius: 100%;margin: 10px;font-size: 50px\\\"></i>\\r\\n                <h3>Congratulations!</h3> \\r\\n                 <p>Your email has been verified successfully. </p>\\r\\n                </div>\\r\\n                <div class=\\\"ui-g-12 ui-md-12\\\">\\r\\n                <button pButton type=\\\"submit\\\" label=\\\"Let's get started\\\" icon=\\\"pi pi-arrow-right\\\" iconPos=\\\"right\\\" class=\\\"ui-button-raised \\\" style=\\\"margin-right: .25em;    width: 100%;\\\" (click)=\\\"onLogin()\\\" ></button>\\r\\n\\r\\n                </div>\\r\\n             </div>\\r\\n             <div class=\\\"ui-g ui-fluid\\\" *ngIf=\\\"status == 2\\\">\\r\\n                 <div class=\\\"ui-g-12 ui-md-12\\\" style=\\\"text-align: center\\\">\\r\\n                     <i class=\\\"pi pi-times\\\" style=\\\"    color: #fff;   background: #e35b5b;     border-radius: 100%;margin: 10px;font-size: 50px\\\"></i>\\r\\n                 <h3>Oops!</h3> \\r\\n                  <p>This link is expired or invalid </p>\\r\\n                 </div>\\r\\n                 <div class=\\\"ui-g-12 ui-md-12\\\">\\r\\n                 <button pButton  label=\\\"Goto Home\\\"  icon=\\\"pi pi-home\\\" iconPos=\\\"left\\\" class=\\\"ui-button-raised \\\" style=\\\"margin-right: .25em;    width: 100%;\\\" routerLink=\\\"/home\\\"></button>\\r\\n \\r\\n                 </div>\\r\\n              </div>\\r\\n      </p-card>\\r\\n  </div>\\r\\n  \\r\\n\\r\\n  <!-- <div  class=\\\"ui-g-12 \\\">\\r\\n        <app-footer></app-footer>\\r\\n</div> -->\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { EmailVerifyComponent } from './email-verify.component';\r\n\r\n\r\n\r\nconst routes: Routes = [\r\n  {path:'',component:EmailVerifyComponent}\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class EmailVerifyRoutingModule { }\r\n","export default \".login-form {\\n  margin-top: 20%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50L2VtYWlsLXZlcmlmeS9GOlxcYmFnZWVcXGludmVudG9yeS1tbmd0XFxjbGllbnQvc3JjXFxhcHBcXGNvbXBvbmVudFxcZW1haWwtdmVyaWZ5XFxlbWFpbC12ZXJpZnkuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NvbXBvbmVudC9lbWFpbC12ZXJpZnkvZW1haWwtdmVyaWZ5LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBV00sZUFBQTtBQ1ROIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50L2VtYWlsLXZlcmlmeS9lbWFpbC12ZXJpZnkuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubG9naW4tZm9ybSB7XHJcbiAgICAvLyAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgLy8gd2lkdGg6IDQwMHB4O1xyXG4gICAgICAvLyBtYXgtaGVpZ2h0OiA0NDBweDtcclxuICAgICAgLy8gaGVpZ2h0OiBhdXRvO1xyXG4gICAgICAvLyBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgIC8vIHRvcDogMDtcclxuICAgICAgLy8gYm90dG9tOiAwO1xyXG4gICAgICAvLyBsZWZ0OiAwO1xyXG4gICAgICAvLyByaWdodDogMDtcclxuICAgICAgLy8gbWFyZ2luOiBhdXRvO1xyXG4gICAgICBtYXJnaW4tdG9wOiAyMCU7XHJcbiAgICB9XHJcbiAgICAvLyAubG9hZ2luLXdyYXBwZXJ7XHJcbiAgICAvLyAgIG1hcmdpbi10b3A6IDEwJTtcclxuICAgIC8vIH1cclxuICAgIFxyXG4gICAgIiwiLmxvZ2luLWZvcm0ge1xuICBtYXJnaW4tdG9wOiAyMCU7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { AuthLoginService } from 'src/app/shared/auth.service';\r\nimport { MessageService } from 'primeng/api';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { environment } from 'src/environments/environment';\r\nimport { SessionService } from 'src/app/shared/session.service';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\n\r\n\r\ndeclare var io: any\r\n\r\n@Component({\r\n  selector: 'app-email-verify',\r\n  templateUrl: './email-verify.component.html',\r\n  styleUrls: ['./email-verify.component.scss']\r\n})\r\nexport class EmailVerifyComponent implements OnInit {\r\n\r\n  isVerifying:boolean = false;\r\n  status: number\r\n  verifyForm: FormGroup\r\n  userCredential:any\r\n  \r\n  private socket;\r\n\r\n  constructor(private auth: AuthLoginService, public sessionService: SessionService, private _fb: FormBuilder, private messageService: MessageService, private activeRoute: ActivatedRoute, private router: Router,\r\n    private spinner: NgxSpinnerService\r\n    ) { \r\n    \r\n    \r\n    this.socket = io(environment.api_url);\r\n    \r\n    this.verifyForm = this._fb.group({\r\n      _id: [this.activeRoute.snapshot.params.id],\r\n      token: [this.activeRoute.snapshot.params.token,Validators.required]\r\n    })\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.verifyEmail()\r\n  }\r\n\r\n  verifyEmail(){   \r\n    if(this.verifyForm.invalid){\r\n      this.isVerifying = true; \r\n      this.status = 2;\r\n    }   \r\n    this.auth.verifiedEmail(this.verifyForm.value)\r\n    .subscribe((data:any)=>{  \r\n      console.log('data',data); \r\n      this.isVerifying = true;  \r\n      if(data.status == 1){\r\n        this.status = 1; \r\n        this.userCredential = {\r\n          user_email: data.user_email,\r\n          user_pwd: data.user_pwd\r\n        }\r\n      }if(data.status == 2){\r\n        this.status = 2; \r\n      }if(data.status == 3){\r\n        this.status = 2; \r\n      } else{ \r\n      }\r\n     \r\n    },\r\n    error =>{   \r\n      console.log('er',error);\r\n      this.messageService.add({severity:'error', summary:'Opps!', detail:'Sothing went wrong!'});\r\n      this.isVerifying = true; \r\n      this.status = 2;\r\n    })\r\n  }\r\n\r\n  onLogin() {\r\n    console.log(this.userCredential);\r\n    // this.spinner.show();\r\n    this.auth.logIn(this.userCredential)\r\n    .subscribe((data:any)=>{\r\n      console.log('data',data);\r\n      this.messageService.clear();\r\n      this.spinner.hide();\r\n      if(data.token){\r\n        // setTimeout(() => {\r\n          this.socket.emit('loginTodo', data.user);\r\n\r\n          this.sessionService.setItem(\"inventryLogedIn\", \"1\");\r\n          this.sessionService.setItem('secret_token',data.token);\r\n          this.sessionService.setItem('rememberMe',  false);\r\n          this.sessionService.setUserCredentials(data.user)\r\n          // if(this.loginForm.value.rememberMe == true){\r\n          //   this.sessionService.setItem('user_email', this.loginForm.value.user_email);\r\n          //   this.sessionService.setItem('user_pwd',  this.loginForm.value.user_pwd);\r\n          //   this.sessionService.setItem('rememberMe',  this.loginForm.value.rememberMe);\r\n          //   this.sessionService.setItem('secret_token', data.token);\r\n          // }else{\r\n          //   this.sessionService.clear()\r\n          // }\r\n          this.router.navigate([\"/inventory-mngt/dashboard\"]);\r\n          this.messageService.add({severity:'success', summary:'Success!', detail:'Login success!'});\r\n        //  }, 1000);\r\n        \r\n      }else{\r\n        this.messageService.clear();\r\n        this.messageService.add({severity:'warn', summary:'Warning!', detail:'Check your User Name/Password'});\r\n      }\r\n    \r\n    },\r\n    error =>{\r\n      console.log('er',error);\r\n      this.spinner.hide();\r\n      this.messageService.add({severity:'error', summary:'Opps!', detail:'Sothing went wrong!'});\r\n      // this.sessionService.setItem(\"inventryLogedIn\", \"1\");\r\n      // this.router.navigate([\"/dashboard\"]);\r\n    })\r\n}\r\n\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { EmailVerifyRoutingModule } from './email-verify-routing.module';\r\nimport { EmailVerifyComponent } from './email-verify.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { CardModule } from 'primeng/card';\r\nimport { MessageModule } from 'primeng/message';\r\nimport { MessagesModule } from 'primeng/messages';\r\nimport { HeaderModule } from '../header/header.module';\r\nimport { FooterModule } from '../footer/footer.module';\r\nimport {ProgressSpinnerModule} from 'primeng/progressspinner';\r\nimport {ButtonModule} from 'primeng/button';\r\n\r\n\r\n@NgModule({\r\n  declarations: [EmailVerifyComponent],\r\n  imports: [\r\n    CommonModule,\r\n    EmailVerifyRoutingModule,\r\n    ReactiveFormsModule,\r\n    CardModule,\r\n    MessageModule,\r\n    MessagesModule,\r\n    HeaderModule,\r\n    FooterModule,\r\n    ProgressSpinnerModule,\r\n    ButtonModule\r\n  ]\r\n})\r\nexport class EmailVerifyModule { }\r\n"],"sourceRoot":"webpack:///"}