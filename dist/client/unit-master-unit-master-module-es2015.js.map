{"version":3,"sources":["./src/app/component/inventory-mngt/master/unit-master/unit-master.component.html","./src/app/component/inventory-mngt/master/unit-master/unit-master-routing.module.ts","./src/app/component/inventory-mngt/master/unit-master/unit-master.component.scss","./src/app/component/inventory-mngt/master/unit-master/unit-master.component.ts","./src/app/component/inventory-mngt/master/unit-master/unit-master.module.ts"],"names":[],"mappings":"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","file":"unit-master-unit-master-module-es2015.js","sourcesContent":["export default \"        <p-breadcrumb [model]=\\\"bradCrum\\\"></p-breadcrumb>\\r\\n        <div style=\\\"margin-top: 15px;\\\">\\r\\n      <p-card  >\\r\\n      <p-table  #dt1  [columns]=\\\"cols\\\" [loading]=\\\"loading\\\" [value]=\\\"unitList\\\" dataKey=\\\"_id\\\" [paginator]=\\\"true\\\" [rows]=\\\"10\\\"   [rowsPerPageOptions]=\\\"[10,50,100]\\\" [globalFilterFields]=\\\"['_id','unit_code','unit_name']\\\">\\r\\n          <ng-template pTemplate=\\\"caption\\\">\\r\\n              <div class=\\\"ui-helper-clearfix\\\" >\\r\\n      \\r\\n                  <!-- <button type=\\\"button\\\" pButton icon=\\\"fa fa-file-o\\\" iconPos=\\\"left\\\" label=\\\"All Data\\\" (click)=\\\"dt.exportCSV()\\\" style=\\\"float:left\\\"></button> -->\\r\\n                  <!-- <button type=\\\"button\\\" pButton icon=\\\"fa fa-file\\\" iconPos=\\\"left\\\" label=\\\"Selection Only\\\" (click)=\\\"dt.exportCSV({selectionOnly:true})\\\" style=\\\"float:right\\\"></button> -->\\r\\n              </div>\\r\\n              <div style=\\\"text-align: right\\\">        \\r\\n                  <i class=\\\"fa fa-search\\\" style=\\\"margin:4px 4px 0 0\\\"></i> \\r\\n                  <input type=\\\"text\\\" pInputText size=\\\"50\\\" placeholder=\\\"Global Filter\\\" (input)=\\\"dt1.filterGlobal($event.target.value, 'contains')\\\"   style=\\\"width:auto\\\">\\r\\n              </div>\\r\\n          </ng-template>\\r\\n          <ng-template  pTemplate=\\\"header\\\" let-columns>\\r\\n              <tr>\\r\\n                    <th style=\\\"width: 3em\\\">\\r\\n                            <p-tableHeaderCheckbox></p-tableHeaderCheckbox>\\r\\n                        </th>\\r\\n                    <th *ngFor=\\\"let col of columns\\\" [pSortableColumn]=\\\"col.field\\\" pResizableColumn >\\r\\n                            {{col.header}}\\r\\n                            <p-sortIcon [field]=\\\"col.field\\\" ariaLabel=\\\"Activate to sort\\\" ariaLabelDesc=\\\"Activate to sort in descending order\\\" ariaLabelAsc=\\\"Activate to sort in ascending order\\\"></p-sortIcon>\\r\\n\\r\\n                        </th>\\r\\n                 <th style=\\\"width: 10%;\\\">\\r\\n                    <button type=\\\"button\\\" pButton icon=\\\"pi pi-plus\\\" class=\\\"ui-button-success\\\"  iconPos=\\\"left\\\" (click)=\\\"showDialogToAdd()\\\" label=\\\"Add\\\" ></button>\\r\\n\\r\\n            </th>\\r\\n              </tr>\\r\\n          </ng-template>\\r\\n          <ng-template pTemplate=\\\"body\\\" let-rowData let-editing=\\\"editing\\\" let-ri=\\\"rowIndex\\\" >\\r\\n            \\r\\n              <tr [pEditableRow]=\\\"rowData\\\">\\r\\n                    <td>\\r\\n                            <p-tableCheckbox [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                        </td>\\r\\n                  <td>\\r\\n                      {{rowData.unit_code}}\\r\\n                  </td>\\r\\n                  <td>\\r\\n                      <p-cellEditor>\\r\\n                          <ng-template pTemplate=\\\"input\\\">\\r\\n                              <input pInputText type=\\\"text\\\" [(ngModel)]=\\\"rowData.unit_name\\\" required>\\r\\n                          </ng-template>\\r\\n                          <ng-template pTemplate=\\\"output\\\">\\r\\n                              {{rowData.unit_name}}\\r\\n                          </ng-template>\\r\\n                      </p-cellEditor>\\r\\n                  </td>\\r\\n                  <td>\\r\\n                    {{rowData.updatedAt | date:'medium'}}\\r\\n            </td>\\r\\n                  <td style=\\\"text-align: center\\\">\\r\\n                    <p-dropdown [options]=\\\"status\\\" placeholder=\\\"Status\\\" [(ngModel)]=\\\"rowData.status\\\" (onChange)=\\\"onChangeStatus($event)\\\"></p-dropdown>\\r\\n                </td>\\r\\n                <td style=\\\"text-align:center\\\">\\r\\n                    <button  pButton type=\\\"button\\\" pInitEditableRow icon=\\\"pi pi-pencil\\\" class=\\\"ui-button-info\\\" (click)=\\\"onRowEdit(rowData)\\\" style=\\\"    margin: 0px 5px;\\\"></button>\\r\\n                    <!-- <button  pButton type=\\\"button\\\" pSaveEditableRow icon=\\\"pi pi-check\\\" class=\\\"ui-button-success\\\" style=\\\"margin-right: .5em\\\" (click)=\\\"onRowEditSave(rowData)\\\"></button> -->\\r\\n                    <button  pButton type=\\\"button\\\" pCancelEditableRow icon=\\\"pi pi-trash\\\" class=\\\"ui-button-danger\\\" (click)=\\\"delete(rowData, ri)\\\" style=\\\"    margin: 0px 5px;\\\"></button>\\r\\n                </td>\\r\\n              </tr>\\r\\n          </ng-template>\\r\\n           \\r\\n           <ng-template pTemplate=\\\"paginatorleft\\\" let-state>\\r\\n            Showing {{(state.page  * state.rows) + 1}} to {{state.rows * (state.page + 1)}} of <strong>{{unitList?.length}}</strong> entries\\r\\n          </ng-template>\\r\\n      </p-table>\\r\\n\\r\\n      <!-- <p-dialog  [maximizable]=\\\"true\\\" [(visible)]=\\\"displayDialog\\\" [responsive]=\\\"true\\\" showEffect=\\\"fade\\\" [resizable]=\\\"false\\\" [modal]=\\\"true\\\"  [style]=\\\"{width: '450px'}\\\">\\r\\n            <p-header>\\r\\n                    <span *ngIf=\\\"unitForm.value._id\\\">Update</span>\\r\\n                    <span *ngIf=\\\"!unitForm.value._id\\\">Add</span> Unit\\r\\n            </p-header>\\r\\n        <form [formGroup]=\\\"unitForm\\\">\\r\\n        <div class=\\\"ui-g ui-fluid\\\" >\\r\\n            <div class=\\\"ui-g-12\\\">\\r\\n                <div class=\\\"ui-g-4\\\">\\r\\n                    <label for=\\\"vin\\\">Code</label>\\r\\n                </div>\\r\\n                <div class=\\\"ui-g-8\\\">\\r\\n                    <input pInputText  formControlName=\\\"unit_code\\\" disabled />\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"ui-g-12\\\">\\r\\n                <div class=\\\"ui-g-4\\\">\\r\\n                    <label for=\\\"vin\\\">Tax Name</label>\\r\\n                </div>\\r\\n                <div class=\\\"ui-g-8\\\">\\r\\n                    <input pInputText formControlName=\\\"unit_name\\\" autofocus />\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"ui-g-12\\\">\\r\\n                <div class=\\\"ui-g-4\\\">\\r\\n                    <label for=\\\"brand\\\">Status</label>\\r\\n                </div>\\r\\n                <div class=\\\"ui-g-8\\\">\\r\\n                    <p-dropdown [options]=\\\"status\\\" placeholder=\\\"Select Status\\\" formControlName=\\\"status\\\"></p-dropdown>\\r\\n    \\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <p-footer>\\r\\n            <div class=\\\"ui-dialog-buttonpane ui-helper-clearfix\\\">\\r\\n                <button type=\\\"button\\\" pButton  icon=\\\"pi pi-save\\\" class=\\\"ui-button-success\\\" (click)=\\\"save()\\\" label=\\\"Save\\\"></button>\\r\\n            </div>\\r\\n        </p-footer>\\r\\n    </form>\\r\\n    </p-dialog> -->\\r\\n    \\r\\n    <p-confirmDialog header=\\\"Confirmation\\\" icon=\\\"pi pi-exclamation-triangle\\\" #cd>\\r\\n            <p-footer>\\r\\n                    <button pButton type=\\\"button\\\" label=\\\"Yes\\\" class=\\\"ui-button-success\\\" (click)=\\\"cd.accept()\\\"></button>        \\r\\n                    <button pButton type=\\\"button\\\" label=\\\"No\\\" class=\\\"ui-button-danger\\\" (click)=\\\"cd.reject()\\\"></button>\\r\\n                </p-footer>\\r\\n            </p-confirmDialog>\\r\\n    </p-card>\\r\\n    </div>\\r\\n\\r\\n    <app-unit-form [displayDialog2]=\\\"displayDialog2\\\"  [unitData]=\\\"unitData\\\" (displayChangeEvent2)=\\\"onDialogClose2($event)\\\"  (unitEvent)=\\\"receiveUnit($event)\\\"></app-unit-form>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { UnitMasterComponent } from './unit-master.component';\r\n\r\nconst routes: Routes = [\r\n  {path:'',component:UnitMasterComponent}\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class UnitMasterRoutingModule { }\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudC9pbnZlbnRvcnktbW5ndC9tYXN0ZXIvdW5pdC1tYXN0ZXIvdW5pdC1tYXN0ZXIuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { MenuItem, ConfirmationService, MessageService } from 'primeng/api';\r\nimport { Router } from '@angular/router';\r\nimport { Unit } from 'src/app/model/unit.model';\r\nimport { UnitService } from 'src/app/shared/unit.service';\r\n\r\nimport * as _ from 'lodash';\r\nimport { CommonService } from 'src/app/shared/common.service';\r\nimport { SessionService } from 'src/app/shared/session.service';\r\n\r\n@Component({\r\n  selector: 'app-unit-master',\r\n  templateUrl: './unit-master.component.html',\r\n  styleUrls: ['./unit-master.component.scss']\r\n})\r\nexport class UnitMasterComponent implements OnInit {\r\n\r\n  loading: boolean;\r\n  public bradCrum: MenuItem[];\r\n  unitList: Unit[];\r\n  displayDialog2: boolean;\r\n  car: any = {};  \r\n  status:any = [];\r\n  cols: any[];\r\n  unitData: any = []\r\n  constructor(private router:Router, private confirmationService: ConfirmationService,private messageService: MessageService,private unitService:UnitService, private commonService: CommonService,\r\n    public sessionService: SessionService\r\n    ) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    \r\n    this.bradCrum = [\r\n      {label:'',icon: 'pi pi-home',command: (event) => {\r\n        this.router.navigate(['/inventory-mngt/dashboard'])}\r\n      },\r\n      {\r\n        label: \"Master\",\r\n        command: event => {\r\n          this.router.navigate([\"/inventory-mngt/master\"]);\r\n        }\r\n      },\r\n      {\r\n        label: \"Unit\",\r\n        command: event => {\r\n          this.router.navigate([\"/inventory-mngt/master/unit\"]);\r\n        }\r\n      }\r\n    ];\r\n    this.status = [\r\n      {label:'Active', value:1},\r\n      {label:'De-Active', value:0},\r\n    ]\r\n    \r\n    \r\n    // if(this.user_details.role == '0'){\r\n    //   this.getTax();\r\n    // }else{\r\n      this.getUnitByCompany();\r\n    // }\r\n    this.cols = [\r\n      // { field: '_id', header: '#' },\r\n      { field: 'unit_code', header: 'Code' },\r\n      { field: 'unit_name', header: 'Unit Name' },\r\n      { field: 'updatedAt', header: 'Updated Date' },\r\n      { field: 'status', header: 'Status' }\r\n      // { field: '', header: 'Action' }\r\n  ];\r\n  }\r\n\r\n  getUnit(){\r\n    this.loading = true\r\n    this.unitService.getUnit()\r\n    .subscribe((data:any)=>{\r\n      console.log('unitList',data);\r\n      this.unitList = data;\r\n      this.loading = false;\r\n    })\r\n  }\r\n\r\n  getUnitByCompany(){\r\n    this.loading = true\r\n    this.unitService.getUnitByCompany()\r\n    .subscribe((data:any)=>{\r\n      console.log('unitList',data);\r\n      this.unitList = data;\r\n      this.loading = false;\r\n    })\r\n  }\r\n\r\n  \r\n  showDialogToAdd() {\r\n    // this.unitForm.reset();\r\n    // this.unitForm.controls['unit_code'].setValue(this.commonService.incrCode('u',this.unitList.length));\r\n    // this.unitForm.controls['status'].setValue(1);\r\n    // this.unitForm.controls['company_details_id'].setValue(this.sessionService.getItem('company_id'))\r\n    this.displayDialog2 = true;\r\n  }\r\n\r\n \r\n \r\n\r\n  delete(data,index){\r\n    console.log('delete',data,index);\r\n    this.confirmationService.confirm({\r\n      message: 'Are you sure that you want to delete this Unit?',\r\n      accept: () => {\r\n          //Actual logic to perform a confirmation\r\n          this.onRowDelete(data,index);\r\n      }\r\n  });\r\n  }\r\n\r\n  \r\n  onRowEdit(unit: Unit) {\r\n    console.log(unit);\r\n    this.displayDialog2 = true;\r\n    this.unitData = unit\r\n    // this.unitForm.controls['_id'].setValue(unit._id);\r\n    // this.unitForm.controls['unit_code'].setValue(unit.unit_code);\r\n    // this.unitForm.controls['unit_name'].setValue(unit.unit_name);\r\n    // this.unitForm.controls['status'].setValue(unit.status);\r\n  }\r\n\r\n  onRowDelete(tax,index) {\r\n    console.log(tax,index);\r\n     this.unitService.deleteUnit(tax._id)\r\n    .subscribe((data:any)=>{\r\n      console.log('delete',data);\r\n      this.unitList.splice(index, 1);\r\n      this.unitList = [...this.unitList];\r\n      this.messageService.add({severity:'success', summary:'Unit Deleted Successfully', detail:'Unit Deleted Successfully'});\r\n  \r\n    },\r\n    error =>{\r\n      console.log(error);\r\n      this.messageService.add({severity:'error', summary:'Oopss!', detail:'Something went wrong!'});\r\n\r\n    })\r\n  }\r\n\r\n\r\n  onChangeStatus(event,id){\r\n    console.log(event);\r\n    let isChecked = event.checked;\r\n    this.unitService.updateStatus(event.checked,id)\r\n    .subscribe((data:any)=>{\r\n      this.messageService.add({severity:'success', summary:'Status Updated Successfully', detail:'Status Updated Successfully'});\r\n    },\r\n    error =>{\r\n      console.log(error);\r\n      this.messageService.add({severity:'error', summary:'Oopss!', detail:'Something went wrong!'}); \r\n\r\n    })\r\n  }\r\n\r\n\r\n\r\n  onDialogClose2(event){\r\n    console.log(event)  \r\n    this.displayDialog2 = false;\r\n    this.unitData = null\r\n  }\r\n\r\n  receiveUnit(event){\r\n    console.log('receiveUnit',event) \r\n        \r\n    var sliceIndex = _.findIndex(this.unitList, function (o) { return o._id == event._id; });\r\n    console.log(sliceIndex);\r\n    if (sliceIndex > -1) {\r\n      // Replace item at index using native splice\r\n      this.unitList.splice(sliceIndex, 1, event);\r\n      this.unitList = [...this.unitList];\r\n    }else{\r\n      this.unitList = [event,...this.unitList];\r\n    }\r\n  }\r\n  \r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { UnitMasterRoutingModule } from './unit-master-routing.module';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { CardModule } from 'primeng/card';\r\nimport { InputTextModule } from 'primeng/inputtext';\r\nimport { TableModule } from 'primeng/table';\r\nimport { ButtonModule } from 'primeng/button';\r\nimport { DialogModule } from 'primeng/dialog';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { BreadcrumbModule } from 'primeng/breadcrumb';\r\nimport { ConfirmDialogModule } from 'primeng/confirmdialog';\r\nimport { ToastModule } from 'primeng/toast';\r\nimport { InputSwitchModule } from 'primeng/inputswitch';\r\nimport { ProgressSpinnerModule } from 'primeng/progressspinner';\r\nimport {MultiSelectModule} from 'primeng/multiselect';\r\nimport { UnitMasterComponent } from './unit-master.component';\r\nimport { UnitFormModule } from '../../shared/unit-form/unit-form.module';\r\n\r\n\r\n@NgModule({\r\n  declarations: [UnitMasterComponent],\r\n  imports: [\r\n    CommonModule,\r\n    UnitMasterRoutingModule,\r\n    HttpClientModule,\r\n    CardModule,\r\n    FormsModule,\r\n    InputTextModule,\r\n    TableModule,\r\n    ButtonModule,\r\n    DialogModule,\r\n    DropdownModule,\r\n    BreadcrumbModule,\r\n    ConfirmDialogModule,\r\n    ToastModule,\r\n    InputSwitchModule,\r\n    ProgressSpinnerModule,\r\n    ReactiveFormsModule,\r\n    MultiSelectModule,\r\n    UnitFormModule\r\n  ]\r\n})\r\nexport class UnitMasterModule { }\r\n"],"sourceRoot":"webpack:///"}