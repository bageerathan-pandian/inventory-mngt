{"version":3,"sources":["./src/app/component/inventory-mngt/shared/category-form/category-form.component.html","./src/app/component/inventory-mngt/shared/category-form/category-form.component.scss","./src/app/component/inventory-mngt/shared/category-form/category-form.component.ts","./src/app/component/inventory-mngt/shared/category-form/category-form.module.ts"],"names":[],"mappings":"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","file":"default~category-master-category-master-module~component-inventory-mngt-purchase-purchase-purchase-m~05c79ce1-es2015.js","sourcesContent":["export default \"\\r\\n\\r\\n<p-dialog   [maximizable]=\\\"true\\\" [(visible)]=\\\"displayDialog1\\\" (onHide)=\\\"onClose()\\\"  [responsive]=\\\"true\\\" showEffect=\\\"fade\\\" [resizable]=\\\"false\\\" [modal]=\\\"true\\\"  [style]=\\\"{width: '400px'}\\\">\\r\\n    <p-header>\\r\\n            <span *ngIf=\\\"categoryForm.value._id\\\">Update</span>\\r\\n            <span *ngIf=\\\"!categoryForm.value._id\\\">Add</span> Category\\r\\n    </p-header>\\r\\n    \\r\\n <form [formGroup]=\\\"categoryForm\\\">\\r\\n        <div class=\\\"ui-g ui-fluid\\\" >\\r\\n            \\r\\n<div class=\\\"ui-g-12\\\">\\r\\n        <div class=\\\"ui-g-4\\\">\\r\\n            <label for=\\\"vin\\\">Category Code</label>\\r\\n        </div>\\r\\n        <div class=\\\"ui-g-8\\\">\\r\\n            <input type=\\\"text\\\" pInputText formControlName=\\\"category_code\\\"  disabled />\\r\\n        </div>\\r\\n    </div>\\r\\n            <div class=\\\"ui-g-12\\\">\\r\\n                <div class=\\\"ui-g-4\\\">\\r\\n                    <label for=\\\"vin\\\">Category Name</label>\\r\\n                </div>\\r\\n                <div class=\\\"ui-g-8\\\">\\r\\n                    <input pInputText id=\\\"vin\\\" formControlName=\\\"category_name\\\" autofocus />\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"ui-g-12\\\">\\r\\n                <div class=\\\"ui-g-4\\\">\\r\\n                    <label for=\\\"brand\\\">Status</label>\\r\\n                </div>\\r\\n                <div class=\\\"ui-g-8\\\">\\r\\n                    <p-dropdown [options]=\\\"status\\\" placeholder=\\\"Select Status\\\" formControlName=\\\"status\\\"></p-dropdown>\\r\\n    \\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <p-footer>\\r\\n            <div class=\\\"ui-dialog-buttonpane ui-helper-clearfix\\\">\\r\\n                <button type=\\\"button\\\" pButton  icon=\\\"pi pi-save\\\" class=\\\"ui-button-success\\\" *ngIf=\\\"!categoryForm.value._id\\\" (click)=\\\"addCategory()\\\" label=\\\"Add\\\"></button>\\r\\n                <button type=\\\"button\\\" pButton  icon=\\\"pi pi-save\\\" class=\\\"ui-button-success\\\" *ngIf=\\\"categoryForm.value._id\\\" (click)=\\\"updateCategory()\\\" label=\\\"Update\\\"></button>\\r\\n            </div>\\r\\n        </p-footer>\\r\\n    </form> \\r\\n    </p-dialog>\"","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudC9pbnZlbnRvcnktbW5ndC9zaGFyZWQvY2F0ZWdvcnktZm9ybS9jYXRlZ29yeS1mb3JtLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { CategoryService } from 'src/app/shared/category.service';\r\nimport { CommonService } from 'src/app/shared/common.service';\r\nimport { SessionService } from 'src/app/shared/session.service';\r\nimport { MessageService } from 'primeng/api';\r\nimport * as _ from 'lodash';\r\n\r\n\r\n@Component({\r\n  selector: 'app-category-form',\r\n  templateUrl: './category-form.component.html',\r\n  styleUrls: ['./category-form.component.scss']\r\n})\r\nexport class CategoryFormComponent implements OnInit {\r\n\r\n  @Input() catData: any;\r\n  @Input() displayDialog1: boolean\r\n  \r\n  @Output() displayChangeEvent1 = new EventEmitter();\r\n  @Output() catEvent = new EventEmitter();\r\n\r\n  categoryForm:FormGroup\r\n  status:any\r\n  categoryList: any = []\r\n\r\n  constructor(private _fb: FormBuilder, private categoryService:CategoryService,private commonService: CommonService,\r\n    public sessionService: SessionService, private messageService: MessageService\r\n    ) {\r\n\r\n      this.status = [\r\n        {label:'Active', value:1},\r\n        {label:'De-Active', value:0},\r\n      ]\r\n  \r\n\r\n    this.categoryForm = this._fb.group({\r\n      _id: [''],\r\n      company_details_id: ['',Validators.required],\r\n      category_code: ['',Validators.required],\r\n      category_name: ['',Validators.required],\r\n      status: [1,Validators.required]\r\n    })\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  \r\n  ngOnChanges() {\r\n    console.log('displayDialog1',this.displayDialog1);    \r\n    console.log('isObjectcatData',_.isPlainObject(this.catData))\r\n    if(_.isPlainObject(this.catData)){      \r\n      console.log('catData',this.catData);   \r\n      this.categoryForm.controls['_id'].setValue(this.catData._id);\r\n      this.categoryForm.controls['category_code'].setValue(this.catData.category_code);\r\n      this.categoryForm.controls['category_name'].setValue(this.catData.category_name);\r\n      this.categoryForm.controls['company_details_id'].setValue(this.sessionService.getItem('company_id'))  \r\n      this.categoryForm.controls['status'].setValue(this.catData.status);    \r\n      }else{           \r\n      this.getCategoryByCompany()\r\n      }\r\n\r\n  }\r\n\r\n  \r\n  getCategoryByCompany(){\r\n    this.categoryService.getCategoryByCompany()\r\n    .subscribe((data:any)=>{\r\n      console.log('categoryList',data);  \r\n    this.categoryList = data       \r\n    this.categoryForm.reset();\r\n    this.categoryForm.controls['category_code'].setValue(this.commonService.incrCode('c',data.length));\r\n    this.categoryForm.controls['status'].setValue(1);\r\n    this.categoryForm.controls['company_details_id'].setValue(this.sessionService.getItem('company_id'))     \r\n    })\r\n  }\r\n\r\n  public checkValidity(): void {\r\n    Object.keys(this.categoryForm.controls).forEach((key) => {\r\n        this.categoryForm.controls[key].markAsDirty();\r\n    });\r\n  }\r\n\r\n  addCategory(){\r\n    console.log('categoryForm',this.categoryForm);\r\n    if(this.categoryForm.invalid){      \r\n      this.checkValidity()\r\n      return\r\n    }\r\n\r\n      this.categoryService.addCategory(this.categoryForm.value)\r\n      .subscribe((data:any)=>{\r\n        console.log('add cat',data);\r\n        // let newData = {\r\n        //   label : data.category_name +' | ' +data.category_code,\r\n        //   value : data._id\r\n        //  }\r\n         this.catEvent.emit(data);\r\n        // this.categoryList = [newData,...this.categoryList];\r\n        // this.categoryList.push(data);\r\n        // console.log('this.categoryList',this.categoryList);\r\n        this.messageService.add({severity:'success', summary:'New Category Added Successfully', detail:'New Category Added Successfully'});\r\n        // this.stockForm.controls['category_details_id'].setValue(data._id) \r\n        this.displayDialog1 = false;\r\n      },\r\n      error =>{\r\n        console.log(error);\r\n        this.messageService.add({severity:'error', summary:'Oopss!', detail:'Something went wrong!'});\r\n        this.displayDialog1 = false;\r\n  \r\n      })\r\n  }\r\n\r\n  updateCategory(){\r\n    console.log('categoryForm',this.categoryForm);\r\n    if(this.categoryForm.invalid){      \r\n      this.checkValidity()\r\n      return\r\n    }\r\n\r\n      this.categoryService.updateCategory(this.categoryForm.value)\r\n      .subscribe((data:any)=>{\r\n        console.log('update cat',data);\r\n        // let newData = {\r\n        //   label : data.category_name +' | ' +data.category_code,\r\n        //   value : data._id\r\n        //  }\r\n         this.catEvent.emit(data);\r\n        // this.categoryList = [newData,...this.categoryList];\r\n        // this.categoryList.push(data);\r\n        // console.log('this.categoryList',this.categoryList);\r\n        this.messageService.add({severity:'success', summary:'Category Updated Successfully', detail:'Category Updated Successfully'});\r\n        // this.stockForm.controls['category_details_id'].setValue(data._id) \r\n        this.displayDialog1 = false;\r\n      },\r\n      error =>{\r\n        console.log(error);\r\n        this.messageService.add({severity:'error', summary:'Oopss!', detail:'Something went wrong!'});\r\n        this.displayDialog1 = false;\r\n  \r\n      })\r\n  }\r\n\r\n  \r\n\r\n  onClose(){\r\n    // this.displayDialog = false;\r\n    this.displayChangeEvent1.emit(false)\r\n  }\r\n\r\n    // Work against memory leak if component is destroyed\r\n    ngOnDestroy() {\r\n      this.displayChangeEvent1.unsubscribe();\r\n    }\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CategoryFormComponent } from './category-form.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { InputTextModule } from 'primeng/inputtext';\r\nimport { ButtonModule } from 'primeng/button';\r\nimport { DialogModule } from 'primeng/dialog';\r\n\r\n\r\n\r\n@NgModule({\r\n   declarations: [CategoryFormComponent],\r\n  imports: [\r\n    CommonModule,    \r\n    ReactiveFormsModule,\r\n    DropdownModule,\r\n    InputTextModule,\r\n    ButtonModule,\r\n    DialogModule,\r\n    // GooglePlaceModule\r\n  ],\r\n  exports:[CategoryFormComponent]\r\n})\r\nexport class CategoryFormModule { }\r\n"],"sourceRoot":"webpack:///"}