{"version":3,"sources":["./src/app/component/inventory-mngt/shared/tax-form/tax-form.component.html","./src/app/component/inventory-mngt/shared/tax-form/tax-form.component.scss","./src/app/component/inventory-mngt/shared/tax-form/tax-form.component.ts","./src/app/component/inventory-mngt/shared/tax-form/tax-form.module.ts"],"names":[],"mappings":"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","file":"default~component-inventory-mngt-sales-sales-sales-module~stock-master-stock-master-module~tax-maste~dd7cbb82-es2015.js","sourcesContent":["export default \"<p-dialog [maximizable]=\\\"true\\\" [(visible)]=\\\"displayDialog3\\\" (onHide)=\\\"onClose()\\\" [responsive]=\\\"true\\\" showEffect=\\\"fade\\\"\\n    [resizable]=\\\"false\\\" [modal]=\\\"true\\\" [style]=\\\"{width: '400px'}\\\">\\n    <p-header>\\n        <span *ngIf=\\\"taxForm.value._id\\\">Update</span>\\n        <span *ngIf=\\\"!taxForm.value._id\\\">Add</span> Tax\\n    </p-header>\\n    <form [formGroup]=\\\"taxForm\\\">\\n        <div class=\\\"ui-g ui-fluid\\\">\\n            <div class=\\\"ui-g-12\\\">\\n                <div class=\\\"ui-g-4\\\">\\n                    <label for=\\\"vin\\\">Tax Code</label>\\n                </div>\\n                <div class=\\\"ui-g-8\\\">\\n                    <input pInputText formControlName=\\\"tax_code\\\" disabled />\\n                </div>\\n            </div>\\n            <div class=\\\"ui-g-12\\\">\\n                <div class=\\\"ui-g-4\\\">\\n                    <label for=\\\"vin\\\">Tax Name</label>\\n                </div>\\n                <div class=\\\"ui-g-8\\\">\\n                    <input pInputText id=\\\"vin\\\" formControlName=\\\"tax_name\\\" autofocus />\\n                </div>\\n            </div>\\n            <div class=\\\"ui-g-12\\\">\\n                <div class=\\\"ui-g-4\\\">\\n                    <label for=\\\"vin\\\">Tax (CGST)% </label>\\n                </div>\\n                <div class=\\\"ui-g-8\\\">\\n                    <div class=\\\"ui-inputgroup\\\">\\n                        <input pInputText pKeyFilter=\\\"num\\\" formControlName=\\\"tax_value_cgst\\\"  />\\n                        <span class=\\\"ui-inputgroup-addon\\\">%</span>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"ui-g-12\\\">\\n                <div class=\\\"ui-g-4\\\">\\n                    <label for=\\\"vin\\\">Tax (SGST)% </label>\\n                </div>\\n                <div class=\\\"ui-g-8\\\">\\n                    <div class=\\\"ui-inputgroup\\\">\\n                        <input pInputText pKeyFilter=\\\"num\\\" formControlName=\\\"tax_value_sgst\\\"  />\\n                        <span class=\\\"ui-inputgroup-addon\\\">%</span>\\n                    </div>\\n                </div>\\n            </div>\\n            <!-- <div class=\\\"ui-g-12\\\">\\n                <div class=\\\"ui-g-4\\\">\\n                    <label for=\\\"vin\\\">Tax Type</label>\\n                </div>\\n                <div class=\\\"ui-g-8\\\">\\n                    <p-dropdown [options]=\\\"taxTypeList\\\" placeholder=\\\"Select Tax Type\\\" formControlName=\\\"tax_type\\\"></p-dropdown>\\n                </div>\\n            </div> -->\\n            <div class=\\\"ui-g-12\\\">\\n                <div class=\\\"ui-g-4\\\">\\n                    <label for=\\\"brand\\\">Status</label>\\n                </div>\\n                <div class=\\\"ui-g-8\\\">\\n                    <p-dropdown [options]=\\\"status\\\" placeholder=\\\"Select Status\\\" formControlName=\\\"status\\\"></p-dropdown>\\n\\n                </div>\\n            </div>\\n        </div>\\n        <p-footer>\\n            <div class=\\\"ui-dialog-buttonpane ui-helper-clearfix\\\">\\n                <!-- <button type=\\\"button\\\" pButton icon=\\\"fa fa-close\\\" (click)=\\\"delete(car)\\\" label=\\\"Delete\\\"></button> -->\\n                <button type=\\\"button\\\" pButton icon=\\\"pi pi-save\\\" class=\\\"ui-button-success\\\" *ngIf=\\\"!taxForm.value._id\\\"\\n                    (click)=\\\"addTax()\\\" label=\\\"Add\\\"></button>\\n                <button type=\\\"button\\\" pButton icon=\\\"pi pi-save\\\" class=\\\"ui-button-success\\\" *ngIf=\\\"taxForm.value._id\\\"\\n                    (click)=\\\"updateTax()\\\" label=\\\"Update\\\"></button>\\n            </div>\\n        </p-footer>\\n    </form>\\n</p-dialog>\"","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudC9pbnZlbnRvcnktbW5ndC9zaGFyZWQvdGF4LWZvcm0vdGF4LWZvcm0uY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, EventEmitter, Input, Output } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { CommonService } from 'src/app/shared/common.service';\nimport { SessionService } from 'src/app/shared/session.service';\nimport { MessageService } from 'primeng/api';\nimport * as _ from 'lodash';\nimport { TaxService } from 'src/app/shared/tax.service';\n\n@Component({\n  selector: 'app-tax-form',\n  templateUrl: './tax-form.component.html',\n  styleUrls: ['./tax-form.component.scss']\n})\nexport class TaxFormComponent implements OnInit {\n\n \n  @Input() taxData: any;\n  @Input() displayDialog3: boolean\n  \n  @Output() displayChangeEvent3 = new EventEmitter();\n  @Output() taxEvent = new EventEmitter();\n\n  taxForm:FormGroup\n  status:any\n  taxTypeList:any\n\n  constructor(private _fb: FormBuilder, private taxService:TaxService,private commonService: CommonService,\n    public sessionService: SessionService, private messageService: MessageService\n    ) {\n \n      this.status = [\n        {label:'Active', value:1},\n        {label:'De-Active', value:0},\n      ]\n      this.taxTypeList = [\n        {label:'CGST', value:1},\n        {label:'SGST', value:2},\n        {label:'IGST', value:3},\n      ]\n\n      this.taxForm = this._fb.group({\n        _id: [''],\n        company_details_id: ['',Validators.required],\n        tax_code: ['',Validators.required],\n        tax_name: ['',Validators.required],\n        tax_value_cgst: ['',Validators.required],\n        tax_value_sgst: ['',Validators.required],\n        status: [1,Validators.required]\n      })\n  }\n\n  ngOnInit() {\n  }\n\n  \n  ngOnChanges() {\n    console.log('displayDialog3',this.displayDialog3);   \n    console.log('isObjectcatData',_.isPlainObject(this.taxData))\n    if(_.isPlainObject(this.taxData)){      \n      console.log('catData',this.taxData);   \n      this.taxForm.controls['_id'].setValue(this.taxData._id);\n      this.taxForm.controls['tax_code'].setValue(this.taxData.tax_code);\n      this.taxForm.controls['tax_name'].setValue(this.taxData.tax_name);\n      this.taxForm.controls['tax_value_cgst'].setValue(this.taxData.tax_value_cgst);\n      this.taxForm.controls['tax_value_sgst'].setValue(this.taxData.tax_value_sgst);\n      this.taxForm.controls['company_details_id'].setValue(this.sessionService.getItem('company_id'))  \n      this.taxForm.controls['status'].setValue(this.taxData.status);    \n      }else{           \n      this.getUnitByCompany()\n      }\n\n  }\n\n  getUnitByCompany(){\n    this.taxService.getTaxByCompany()\n    .subscribe((data:any)=>{\n        this.taxForm.reset();\n        this.taxForm.controls['tax_code'].setValue(this.commonService.incrCode('t',data.length));\n        this.taxForm.controls['status'].setValue(1);\n        this.taxForm.controls['company_details_id'].setValue(this.sessionService.getItem('company_id'))       \n    })\n  }\n\n  public checkValidity(): void {\n    Object.keys(this.taxForm.controls).forEach((key) => {\n        this.taxForm.controls[key].markAsDirty();\n    });\n  }\n\n\n  addTax(){\n    console.log('taxForm',this.taxForm);\n    if(this.taxForm.invalid){      \n      this.checkValidity()\n      return\n    }\n\n      this.taxService.addTax(this.taxForm.value)\n      .subscribe((data:any)=>{\n        // let newData = {\n        //   label : data.tax_name +' | ' +data.tax_code,\n        //   value : data._id\n        //  }\n         this.taxEvent.emit(data)\n        // this.unitList = [newData,...this.unitList];\n        // this.categoryList.push(data);\n        // console.log('this.unitList',this.unitList);\n        this.messageService.add({severity:'success', summary:'New Tax Added Successfully', detail:'New Tax Added Successfully'});\n        // this.stockForm.controls['unit_details_id'].setValue(data._id) \n        this.displayDialog3 = false;\n      },\n      error =>{\n        console.log(error);\n        this.messageService.add({severity:'error', summary:'Oopss!', detail:'Something went wrong!'});\n        this.displayDialog3 = false;\n  \n      })\n  }\n\n  updateTax(){\n    console.log('taxForm',this.taxForm);\n    if(this.taxForm.invalid){      \n      this.checkValidity()\n      return\n    }\n\n      this.taxService.updateTax(this.taxForm.value)\n      .subscribe((data:any)=>{\n        console.log('add unit',data);\n        // let newData = {\n        //   label : data.tax_name +' | ' +data.tax_code,\n        //   value : data._id\n        //  }\n         this.taxEvent.emit(data)\n        // this.unitList = [newData,...this.unitList];\n        // this.categoryList.push(data);\n        // console.log('this.unitList',this.unitList);\n        this.messageService.add({severity:'success', summary:'Tax Updated Successfully', detail:'Tax Updated Successfully'});\n        // this.stockForm.controls['unit_details_id'].setValue(data._id) \n        this.displayDialog3 = false;\n      },\n      error =>{\n        console.log(error);\n        this.messageService.add({severity:'error', summary:'Oopss!', detail:'Something went wrong!'});\n        this.displayDialog3 = false;\n  \n      })\n  }\n  \n  onClose(){\n    // this.displayDialog = false;\n    this.displayChangeEvent3.emit(false)\n  }\n\n    // Work against memory leak if component is destroyed\n    ngOnDestroy() {\n      this.displayChangeEvent3.unsubscribe();\n    }\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TaxFormComponent } from './tax-form.component';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { DropdownModule } from 'primeng/dropdown';\nimport { InputTextModule } from 'primeng/inputtext';\nimport { ButtonModule } from 'primeng/button';\nimport { DialogModule } from 'primeng/dialog';\nimport { KeyFilterModule } from 'primeng/keyfilter';\n\n\n\n@NgModule({\n  declarations: [TaxFormComponent],\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    DropdownModule,\n    InputTextModule,\n    ButtonModule,\n    DialogModule,\n    KeyFilterModule\n  ],\n  exports: [TaxFormComponent]\n})\nexport class TaxFormModule { }\n"],"sourceRoot":"webpack:///"}