{"version":3,"sources":["./src/app/component/inventory-mngt/sales/sales/sales.component.html","./src/app/component/inventory-mngt/sales/sales/sales-routing.module.ts","./src/app/component/inventory-mngt/sales/sales/sales.component.scss","./src/app/component/inventory-mngt/sales/sales/sales.component.ts","./src/app/component/inventory-mngt/sales/sales/sales.module.ts"],"names":[],"mappings":"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","file":"component-inventory-mngt-sales-sales-sales-module-es2015.js","sourcesContent":["export default \"<p-confirmDialog header=\\\"Confirmation\\\" icon=\\\"pi pi-exclamation-triangle\\\"></p-confirmDialog>\\r\\n\\r\\n<p-breadcrumb [model]=\\\"bradCrum\\\"></p-breadcrumb>\\r\\n<form class=\\\"example-form sec\\\" [formGroup]=\\\"invoiceForm\\\">\\r\\n        <div style=\\\"margin-top: 15px;\\\">\\r\\n                <p-card>\\r\\n\\r\\n                        <div class=\\\"ui-g ui-fluid\\\">\\r\\n\\r\\n\\r\\n                                <div class=\\\"ui-g-2\\\">\\r\\n                                        <div class=\\\"ui-g-12\\\">\\r\\n                                                Invoice No.: <input pInputText type=\\\"text\\\"\\r\\n                                                        formControlName=\\\"invoice_code\\\" readonly required>\\r\\n                                        </div>\\r\\n                                </div>\\r\\n\\r\\n                                <div class=\\\"ui-g-2\\\">\\r\\n                                        <div class=\\\"ui-g-12\\\">\\r\\n                                                Invoice Date: <p-calendar [showIcon]=\\\"true\\\" [readonlyInput]=\\\"true\\\"\\r\\n                                                        formControlName=\\\"invoice_date\\\" [maxDate]=\\\"today\\\"></p-calendar>\\r\\n                                        </div>\\r\\n                                </div>\\r\\n\\r\\n                                <div class=\\\"ui-g-2\\\">\\r\\n\\r\\n                                        <div class=\\\"ui-g-12\\\">\\r\\n                                                Customer Name: <p-dropdown [options]=\\\"customerList\\\"\\r\\n                                                        placeholder=\\\"Select Customer\\\"\\r\\n                                                        formControlName=\\\"customer_details_id\\\" filter=\\\"true\\\"\\r\\n                                                        (onChange)=\\\"onSelectCust($event)\\\"></p-dropdown>\\r\\n                                                <p class=\\\"warning-msg\\\" style=\\\"position: absolute;\\\">\\r\\n                                                        <em\\r\\n                                                                *ngIf=\\\"invoiceForm.value.customer_details_id && selectedCustData?.total_pending_amt\\\">*Amt\\r\\n                                                                to be received :\\r\\n                                                                {{selectedCustData?.total_pending_amt | currency : 'INR':true}}\\r\\n                                                        </em>\\r\\n                                                </p>\\r\\n\\r\\n                                        </div>\\r\\n                                </div>\\r\\n                                <div class=\\\"ui-g-2\\\">\\r\\n                                        <div class=\\\"ui-g-12\\\">\\r\\n                                                Customer Address: <input pInputText type=\\\"text\\\"\\r\\n                                                        value=\\\"{{selectedCustData?.customer_address}}\\\" readonly>\\r\\n                                        </div>\\r\\n                                </div>\\r\\n\\r\\n                                <div class=\\\"ui-g-2\\\">\\r\\n                                        <!-- <pre>{{ selectedSupplierData | json }}</pre> -->\\r\\n\\r\\n\\r\\n                                        <div class=\\\"ui-g-12\\\">\\r\\n\\r\\n                                                Customer Phone: <input pInputText type=\\\"text\\\"\\r\\n                                                        value=\\\"{{selectedCustData?.phone}}\\\" readonly>\\r\\n                                        </div>\\r\\n\\r\\n\\r\\n\\r\\n                                </div>\\r\\n\\r\\n                                <div class=\\\"ui-g-3\\\">\\r\\n\\r\\n                                </div>\\r\\n                                <div class=\\\"ui-g-4\\\">\\r\\n\\r\\n                                </div>\\r\\n                        </div>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n                </p-card>\\r\\n\\r\\n        </div>\\r\\n        <div style=\\\"margin-top: 15px;\\\">\\r\\n\\r\\n                <p-card>\\r\\n                        <div formArrayName=\\\"invoiceList\\\">\\r\\n                                <!-- <p-scrollPanel [style]=\\\"{width: '100%', height: '200px'}\\\"> -->\\r\\n\\r\\n                                <table style=\\\"margin-bottom: 15px;\\\">\\r\\n                                        <thead>\\r\\n                                                <tr>\\r\\n                                                        <th style=\\\"width:5em\\\">Order #</th>\\r\\n                                                        <th style=\\\"width:20em\\\">Product Name/Code</th>\\r\\n                                                        <th>Price</th>\\r\\n                                                        <th>MRP</th>\\r\\n                                                        <th>Qty</th>\\r\\n                                                        <!-- <th>Total</th>\\r\\n                        <th>CGST(Amt)</th>\\r\\n                        <th>SGST(Amt)</th> -->\\r\\n                                                        <th>GST(%)</th>\\r\\n                                                        <th class=\\\"with-gst\\\">Total</th>\\r\\n                                                        <th style=\\\"width:8em\\\"></th>\\r\\n                                                </tr>\\r\\n                                        </thead>\\r\\n                                        <tbody>\\r\\n                                                <tr *ngFor=\\\"let itemrow of invoiceForm.get('invoiceList')['controls']; let i=index\\\"\\r\\n                                                        [formGroupName]=\\\"i\\\">\\r\\n                                                        <td>\\r\\n                                                                {{i + 1}}\\r\\n                                                        </td>\\r\\n                                                        <td>\\r\\n                                                                <!-- <p-dropdown [options]=\\\"stocksList\\\"\\r\\n                                                                        formControlName=\\\"stock_details_id\\\"\\r\\n                                                                        (onChange)=\\\"onSelectProduct($event,i)\\\" required\\r\\n                                                                        placeholder=\\\"Select a Product\\\" filter=\\\"true\\\">\\r\\n                                                                </p-dropdown> -->\\r\\n                                                                <p-autoComplete formControlName=\\\"stock_details_id\\\"\\r\\n                                                                        [suggestions]=\\\"stocksListResult\\\"\\r\\n                                                                        (completeMethod)=\\\"searchProduct($event)\\\"\\r\\n                                                                        (onSelect)=\\\"onSelectProduct($event,i)\\\"\\r\\n                                                                        [dropdown]=\\\"true\\\" field=\\\"label\\\" dataKey=\\\"value\\\"\\r\\n                                                                        [forceSelection]=\\\"true\\\"\\r\\n                                                                        placeholder=\\\"Enter Product's Name/Code\\\">\\r\\n                                                                </p-autoComplete>\\r\\n\\r\\n\\r\\n                                                        </td>\\r\\n                                                        <td class=\\\"hidden-spinner\\\" style=\\\"width: 15%;\\\">\\r\\n                                                                <!-- <input pInputText type=\\\"text\\\" formControlName=\\\"price\\\"   required readonly> -->\\r\\n                                                                <p-spinner [step]=\\\"0.25\\\" formControlName=\\\"price\\\"\\r\\n                                                                        [min]=\\\"1\\\" [max]=\\\"itemrow.get('mrp').value\\\"\\r\\n                                                                        (keyup)=\\\"onChangeQty(i)\\\" [formatInput]=\\\"true\\\"\\r\\n                                                                        [disabled]=\\\"invoiceForm.value.invoiceList[i].stock_details_id ? false : true\\\"\\r\\n                                                                        required></p-spinner>\\r\\n\\r\\n                                                                <!-- <span class=\\\"ui-inputtext ui-fluid .ui-inputtext ui-corner-all\\\" style=\\\"float: left; height: 35px;\\\">  {{ invoiceForm.value.invoiceList[i].price  | currency :'INR':true}}</span> -->\\r\\n\\r\\n                                                        </td>\\r\\n                                                        <td class=\\\"hidden-spinner\\\" style=\\\"width: 15%;\\\">\\r\\n                                                                <p-spinner size=\\\"30\\\" formControlName=\\\"mrp\\\"\\r\\n                                                                        [formatInput]=\\\"true\\\" [disabled]=\\\"true\\\">\\r\\n                                                                </p-spinner>\\r\\n\\r\\n\\r\\n                                                        </td>\\r\\n                                                        <td>\\r\\n                                                                <p-spinner formControlName=\\\"qty\\\" required\\r\\n                                                                        pKeyFilter=\\\"int\\\" [min]=\\\"1\\\"\\r\\n                                                                        (focusout)=\\\"onChangeQty(i)\\\"\\r\\n                                                                        (onChange)=\\\"onChangeQty(i)\\\"\\r\\n                                                                        [disabled]=\\\"invoiceForm.value.invoiceList[i].stock_details_id ? false : true\\\">\\r\\n                                                                </p-spinner>\\r\\n                                                                <!-- <input pInputText type=\\\"text\\\" formControlName=\\\"qty\\\"  pKeyFilter=\\\"int\\\" [min]=\\\"1\\\"  (keyup)=\\\"onChangeQty(i)\\\"  required> -->\\r\\n                                                                <p class=\\\"error-msg\\\" style=\\\"position: absolute;\\\">\\r\\n                                                                        <em\\r\\n                                                                                *ngIf=\\\"invoiceForm.value.invoiceList[i].qty && (invoiceForm.value.invoiceList[i].total_qty < invoiceForm.value.invoiceList[i].qty)\\\">\\r\\n                                                                                *Ther\\r\\n                                                                                are\\r\\n                                                                                {{invoiceForm.value.invoiceList[i].total_qty}}\\r\\n                                                                                only available</em>\\r\\n                                                                </p>\\r\\n                                                        </td>\\r\\n\\r\\n                                                        <!-- <td class=\\\"hidden-spinner\\\" style=\\\"width: 15%;\\\">\\r\\n                       <p-spinner styleClasssize=\\\"30\\\"  formControlName=\\\"total\\\"  [formatInput]=\\\"true\\\" [disabled]=\\\"true\\\"></p-spinner>\\r\\n\\r\\n               </td>\\r\\n                \\r\\n               <td class=\\\"hidden-spinner\\\">\\r\\n                <p-spinner styleClasssize=\\\"30\\\"  formControlName=\\\"cgst_amt\\\"  [formatInput]=\\\"true\\\" [disabled]=\\\"true\\\"></p-spinner>\\r\\n\\r\\n                <p class=\\\"error-msg\\\" style=\\\"position: absolute;    color: #222;\\\">\\r\\n                        <em >*{{invoiceForm.value.invoiceList[i].tax_name}}</em>\\r\\n                        </p>           \\r\\n                </td>\\r\\n                <td class=\\\"hidden-spinner\\\" >\\r\\n                        <p-spinner styleClasssize=\\\"30\\\"  formControlName=\\\"sgst_amt\\\"  [formatInput]=\\\"true\\\" [disabled]=\\\"true\\\"></p-spinner>\\r\\n\\r\\n                </td> -->\\r\\n                                                        <td class=\\\"hidden-spinner\\\">\\r\\n                                                                <!-- <input pInputText type=\\\"text\\\" formControlName=\\\"price\\\"   required readonly> -->\\r\\n                                                                <p-spinner size=\\\"30\\\" formControlName=\\\"gst_per\\\"\\r\\n                                                                        [formatInput]=\\\"true\\\" [disabled]=\\\"true\\\">\\r\\n                                                                </p-spinner>\\r\\n\\r\\n                                                                <p class=\\\"error-msg\\\"\\r\\n                                                                        style=\\\"position: absolute;    color: #222;\\\">\\r\\n                                                                        <em>*{{invoiceForm.value.invoiceList[i].tax_name}}</em>\\r\\n                                                                </p>\\r\\n                                                        </td>\\r\\n\\r\\n\\r\\n                                                        <td class=\\\"hidden-spinner\\\" style=\\\"width: 15%;\\\">\\r\\n                                                                <!-- <input pInputText type=\\\"text\\\" formControlName=\\\"total\\\"   required readonly> -->\\r\\n                                                                <p-spinner [step]=\\\"0.25\\\"\\r\\n                                                                        formControlName=\\\"total_with_gst\\\"\\r\\n                                                                        [formatInput]=\\\"true\\\" [disabled]=\\\"true\\\">\\r\\n                                                                </p-spinner>\\r\\n\\r\\n                                                        </td>\\r\\n                                                        <td>\\r\\n                                                                <!-- <button  pButton type=\\\"button\\\"  icon=\\\"pi pi-trash\\\" class=\\\"ui-button-danger\\\" [disabled]=\\\"(invoiceForm.value.invoiceList.length == 1) ? true : false\\\" (click)=\\\"deleteListItem(i)\\\"  style=\\\"    margin: 0px 5px;\\\"></button> -->\\r\\n                                                                <!-- <button  pButton type=\\\"button\\\"  icon=\\\"pi pi-trash\\\" class=\\\"ui-button-danger\\\" (click)=\\\"deleteListItem(i)\\\" *ngIf=\\\"invoiceForm.value.invoiceList.length != i+1\\\"  style=\\\"    margin: 0px 5px;\\\"></button> -->\\r\\n                                                                <button pButton type=\\\"button\\\" icon=\\\"pi pi-trash\\\"\\r\\n                                                                        class=\\\"ui-button-danger\\\"\\r\\n                                                                        (click)=\\\"deleteListItem(i)\\\" *ngIf=\\\"i != 0\\\"\\r\\n                                                                        style=\\\"    margin: 0px 5px;\\\"></button>\\r\\n                                                                <button pButton type=\\\"button\\\" icon=\\\"pi pi-plus\\\"\\r\\n                                                                        class=\\\"ui-button-success\\\"\\r\\n                                                                        (click)=\\\"addListItem()\\\" *ngIf=\\\"i == 0\\\"\\r\\n                                                                        style=\\\"    margin: 0px 5px;\\\"></button>\\r\\n                                                        </td>\\r\\n                                                </tr>\\r\\n                                        </tbody>\\r\\n                                        <!-- <tfoot>\\r\\n           <tr >\\r\\n               <th >\\r\\n                 \\r\\n               </th>\\r\\n              <th >\\r\\n                          <p-dropdown [options]=\\\"stocksList\\\" required placeholder=\\\"Select a Product\\\"  [showClear]=\\\"true\\\" filter=\\\"true\\\">\\r\\n                           \\r\\n                      </p-dropdown> \\r\\n              </th>\\r\\n              <th >\\r\\n                      <input pInputText type=\\\"text\\\"   required>\\r\\n                     \\r\\n              </th>\\r\\n              <th>\\r\\n                      <input pInputText type=\\\"text\\\"   required>\\r\\n              </th>\\r\\n              <th >\\r\\n                      <input pInputText type=\\\"text\\\"    required>\\r\\n                     \\r\\n              </th>\\r\\n              <th style=\\\"text-align:center\\\">\\r\\n                           <button  pButton type=\\\"button\\\"  icon=\\\"pi pi-plus\\\" class=\\\"ui-button-success\\\" (click)=\\\"addListItem()\\\"  style=\\\"    margin: 0px 5px;\\\"></button>\\r\\n                          </th>\\r\\n          </tr>\\r\\n        </tfoot> -->\\r\\n                                </table>\\r\\n\\r\\n                                <!-- </p-scrollPanel> -->\\r\\n                        </div>\\r\\n                        <div class=\\\"ui-g ui-fluid\\\">\\r\\n                                <div class=\\\"ui-g-12 ui-md-6\\\" style=\\\"text-align: center\\\">\\r\\n                                        <h6>Grand Total <em *ngIf=\\\"invoiceForm.value.tax_enable\\\">(with GST)</em></h6>\\r\\n                                        <h1 style=\\\"font-size: 50px;\\\"\\r\\n                                                [ngStyle]=\\\"{'color': invoiceForm.value.tax_enable ? '#34a835' : '#ffba01'}\\\">\\r\\n                                                {{ invoiceForm.value.grand_total | currency :'INR':true}}</h1>\\r\\n                                </div>\\r\\n                                <div class=\\\"ui-g-12 ui-md-6\\\">\\r\\n                                        <div class=\\\"ui-g-12 ui-md-6\\\">\\r\\n                                                <div class=\\\"ui-g-12\\\">\\r\\n                                                        <div class=\\\"ui-g-12  ui-md-5\\\">\\r\\n                                                                <p style=\\\"padding: 0;\\\"> Sub Amount: </p>\\r\\n                                                        </div>\\r\\n                                                        <div class=\\\"ui-g-12  ui-md-5\\\" style=\\\"text-align: right;\\\">\\r\\n                                                                <b>{{invoiceForm.value.sub_total  | currency : 'INR':true}}</b>\\r\\n                                                        </div>\\r\\n                                                </div>\\r\\n                                                <div class=\\\"ui-g-12\\\">\\r\\n                                                        <div class=\\\"ui-g-12  ui-md-5\\\">\\r\\n                                                                <p style=\\\"padding: 0;\\\"> SGST: </p>\\r\\n                                                        </div>\\r\\n                                                        <div class=\\\"ui-g-12  ui-md-5\\\" style=\\\"text-align: right;\\\">\\r\\n                                                                <b>{{invoiceForm.value.sgst  | currency : 'INR':true}}</b>\\r\\n                                                        </div>\\r\\n                                                </div>\\r\\n                                                <div class=\\\"ui-g-12\\\">\\r\\n                                                        <div class=\\\"ui-g-12  ui-md-5\\\">\\r\\n                                                                <p style=\\\"padding: 0;\\\"> CGST: </p>\\r\\n                                                        </div>\\r\\n                                                        <div class=\\\"ui-g-12  ui-md-5\\\" style=\\\"text-align: right;\\\">\\r\\n                                                                <b>{{invoiceForm.value.cgst  | currency : 'INR':true}}</b>\\r\\n                                                        </div>\\r\\n                                                </div>\\r\\n                                                <div class=\\\"ui-g-12\\\">\\r\\n                                                        <div class=\\\"ui-g-12  ui-md-5\\\">\\r\\n                                                                <p style=\\\"padding: 0;\\\"> Round Off: </p>\\r\\n                                                        </div>\\r\\n                                                        <div class=\\\"ui-g-12  ui-md-5\\\" style=\\\"text-align: right;\\\">\\r\\n                                                                <b>{{invoiceForm.value.round_off  | currency : 'INR':true}}</b>\\r\\n                                                        </div>\\r\\n                                                </div>\\r\\n                                                <div class=\\\"ui-g-12\\\">\\r\\n                                                        <div class=\\\"ui-g-12  ui-md-5\\\">\\r\\n                                                                <p style=\\\"padding: 0;\\\"> Grand Total: </p>\\r\\n                                                        </div>\\r\\n                                                        <div class=\\\"ui-g-12  ui-md-5\\\" style=\\\"text-align: right;\\\">\\r\\n                                                                <b>{{invoiceForm.value.grand_total  | currency : 'INR':true}}</b>\\r\\n                                                        </div>\\r\\n                                                </div>\\r\\n\\r\\n\\r\\n                                                <div class=\\\"ui-g-12\\\">\\r\\n                                                        <p-checkbox name=\\\"tax\\\" binary=\\\"true\\\" disabled=\\\"true\\\"\\r\\n                                                                (onChange)=\\\"toggleTax($event)\\\"\\r\\n                                                                formControlName=\\\"tax_enable\\\" label=\\\"Enable Tax\\\">\\r\\n                                                        </p-checkbox>\\r\\n                                                </div>\\r\\n                                        </div>\\r\\n                                        <div class=\\\"ui-g-12 ui-md-6\\\">\\r\\n\\r\\n                                                Discount : <input pInputText type=\\\"text\\\" pKeyFilter=\\\"int\\\" required\\r\\n                                                        max=\\\"{{invoiceForm.value.grand_total}}\\\"\\r\\n                                                        formControlName=\\\"discount\\\" (keyup)=\\\"onChangeDiscount()\\\">\\r\\n                                                Payment Status : <p-dropdown [options]=\\\"paymentStatus\\\"\\r\\n                                                        placeholder=\\\"Select Status\\\" formControlName=\\\"payment_status\\\"\\r\\n                                                        required></p-dropdown>\\r\\n\\r\\n                                                Payment Type : <p-dropdown [options]=\\\"paymentType\\\"\\r\\n                                                        placeholder=\\\"Select Payment\\\" formControlName=\\\"payment_type\\\"\\r\\n                                                        required></p-dropdown>\\r\\n                                                Paind Amount : <input pInputText type=\\\"text\\\" pKeyFilter=\\\"int\\\" required\\r\\n                                                        formControlName=\\\"paid_amount\\\" (keyup)=\\\"onChangePaindAmount()\\\">\\r\\n                                                Balance Amount : <input pInputText type=\\\"text\\\" pKeyFilter=\\\"int\\\" required\\r\\n                                                        formControlName=\\\"balance_amount\\\">\\r\\n                                        </div>\\r\\n                                </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"ui-g ui-fluid\\\">\\r\\n\\r\\n                                <div class=\\\"ui-g-2\\\">\\r\\n                                        <button pButton type=\\\"button\\\" label=\\\"Reset\\\" icon=\\\"pi pi-replay\\\"\\r\\n                                                class=\\\"ui-button-secondary\\\" (click)=\\\"onReset()\\\"></button>\\r\\n                                </div>\\r\\n                                <div class=\\\"ui-g-2\\\">\\r\\n                                        <button pButton type=\\\"button\\\" (click)=\\\"saveOrder()\\\"\\r\\n                                                label=\\\"{{salesId ? 'Update' : 'Save'}} & Print Bill\\\" icon=\\\"pi pi-save\\\"\\r\\n                                                class=\\\"ui-button-success\\\"></button>\\r\\n                                </div>\\r\\n                                <!-- <div class=\\\"ui-g-2\\\">\\r\\n                                <button pButton type=\\\"button\\\" (click)=\\\"scanBarcode()\\\" label=\\\"Scan\\\" icon=\\\"pi pi-search\\\" class=\\\"ui-button-success\\\"></button>\\r\\n                            </div> -->\\r\\n                                <!-- <div class=\\\"ui-g-2\\\">\\r\\n                            <p-splitButton label=\\\"Print Order\\\" icon=\\\"pi pi-print\\\" (click)=\\\"printOrderWithoutView()\\\" [model]=\\\"printItems\\\" styleClass=\\\"ui-button-warning\\\"></p-splitButton>\\r\\n                    </div> -->\\r\\n                                <div class=\\\"ui-g-2\\\">\\r\\n                                        <button pButton type=\\\"button\\\" label=\\\"Print Priview\\\" icon=\\\"pi pi-print\\\"\\r\\n                                                (click)=\\\"printPriview()\\\" class=\\\"ui-button-warning\\\"></button>\\r\\n                                </div>\\r\\n                        </div>\\r\\n\\r\\n\\r\\n\\r\\n                </p-card>\\r\\n        </div>\\r\\n</form>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n<app-stock-form [displayDialog]=\\\"displayDialog\\\" (categoryDialogEvent)=\\\"categoryDialog($event)\\\"\\r\\n        (unitDialogEvent)=\\\"unitDialog($event)\\\" (taxDialogEvent)=\\\"taxDialog($event)\\\" [stockData]=\\\"stockData\\\"\\r\\n        [catData]=\\\"catData\\\" [unitData]=\\\"unitData\\\" [taxData]=\\\"taxData\\\" (stockEvent)=\\\"receiveStock($event)\\\"\\r\\n        (displayChangeEvent)=\\\"onDialogClose($event)\\\"></app-stock-form>\\r\\n\\r\\n<app-category-form [displayDialog1]=\\\"displayDialog1\\\" (displayChangeEvent1)=\\\"onDialogClose1($event)\\\"\\r\\n        (catEvent)=\\\"receiveCategory($event)\\\"></app-category-form>\\r\\n\\r\\n<app-unit-form [displayDialog2]=\\\"displayDialog2\\\" (displayChangeEvent2)=\\\"onDialogClose2($event)\\\"\\r\\n        (unitEvent)=\\\"receiveUnit($event)\\\"></app-unit-form>\\r\\n\\r\\n<app-customer-form [displayDialog3]=\\\"displayDialog3\\\" (displayChangeEvent3)=\\\"onDialogClose3($event)\\\"\\r\\n        (customerEvent)=\\\"receiveCustomer($event)\\\"></app-customer-form>\\r\\n\\r\\n<app-tax-form [displayDialog3]=\\\"displayDialog4\\\" (displayChangeEvent3)=\\\"onDialogClose4($event)\\\"\\r\\n        (taxEvent)=\\\"receiveTax($event)\\\"></app-tax-form>\\r\\n\\r\\n<!-- <div id=\\\"print-section\\\" style=\\\"display: none\\\">  -->\\r\\n<div id=\\\"print-section\\\">\\r\\n\\r\\n        <app-invoice-design #printDiv [invoiceData]=\\\"invoiceData\\\"></app-invoice-design>\\r\\n\\r\\n        <!-- <app-invoice-design-pos></app-invoice-design-pos> -->\\r\\n</div>\\r\\n\\r\\n<p-dialog [showHeader]=\\\"false\\\" [(visible)]=\\\"loaidnSpinner\\\" [modal]=\\\"true\\\" [responsive]=\\\"true\\\" [style]=\\\"{width: '350px', minWidth: '200px'}\\\" [minY]=\\\"70\\\" \\r\\n[maximizable]=\\\"true\\\" [baseZIndex]=\\\"10000\\\">\\r\\n\\r\\n\\r\\n        <div style=\\\"text-align: center;padding: 16px;\\\">\\r\\n                <p-progressSpinner [style]=\\\"{width: '50px', height: '50px'}\\\" strokeWidth=\\\"3\\\" animationDuration=\\\".5s\\\">\\r\\n                </p-progressSpinner>\\r\\n                <h5>Please wait...</h5>\\r\\n                <p> Getting data processing...</p>\\r\\n\\r\\n        </div>\\r\\n</p-dialog>\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { SalesComponent } from './sales.component';\r\n\r\nconst routes: Routes = [\r\n  {path:'',component:SalesComponent},\r\n  {path:':invoice_code',component:SalesComponent}\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class SalesRoutingModule { }\r\n","export default \"@media screen {\\n  #print-section {\\n    visibility: hidden;\\n    position: absolute;\\n    top: 0;\\n    bottom: 0;\\n    left: 0;\\n    right: 0;\\n    margin: auto;\\n  }\\n}\\n@media print {\\n  #print-section {\\n    visibility: visible !important;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50L2ludmVudG9yeS1tbmd0L3NhbGVzL3NhbGVzL0Y6XFxiYWdlZVxcaW52ZW50b3J5LW1uZ3RcXGNsaWVudC9zcmNcXGFwcFxcY29tcG9uZW50XFxpbnZlbnRvcnktbW5ndFxcc2FsZXNcXHNhbGVzXFxzYWxlcy5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29tcG9uZW50L2ludmVudG9yeS1tbmd0L3NhbGVzL3NhbGVzL3NhbGVzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0k7SUFDQSxrQkFBQTtJQUNBLGtCQUFBO0lBQ0EsTUFBQTtJQUNBLFNBQUE7SUFDQSxPQUFBO0lBQ0EsUUFBQTtJQUNBLFlBQUE7RUNDRjtBQUNGO0FERUE7RUFFSTtJQUVJLDhCQUFBO0VDRk47QUFDRiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudC9pbnZlbnRvcnktbW5ndC9zYWxlcy9zYWxlcy9zYWxlcy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBtZWRpYSBzY3JlZW4ge1xyXG4gICAgI3ByaW50LXNlY3Rpb257XHJcbiAgICB2aXNpYmlsaXR5OiBoaWRkZW47XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDA7XHJcbiAgICBib3R0b206IDA7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgcmlnaHQ6IDA7XHJcbiAgICBtYXJnaW46IGF1dG87XHJcbn1cclxufVxyXG5cclxuQG1lZGlhIHByaW50XHJcbnsgICAgXHJcbiAgICAjcHJpbnQtc2VjdGlvblxyXG4gICAge1xyXG4gICAgICAgIHZpc2liaWxpdHk6IHZpc2libGUgIWltcG9ydGFudDtcclxuICAgIH1cclxufVxyXG5cclxuIiwiQG1lZGlhIHNjcmVlbiB7XG4gICNwcmludC1zZWN0aW9uIHtcbiAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICBib3R0b206IDA7XG4gICAgbGVmdDogMDtcbiAgICByaWdodDogMDtcbiAgICBtYXJnaW46IGF1dG87XG4gIH1cbn1cbkBtZWRpYSBwcmludCB7XG4gICNwcmludC1zZWN0aW9uIHtcbiAgICB2aXNpYmlsaXR5OiB2aXNpYmxlICFpbXBvcnRhbnQ7XG4gIH1cbn0iXX0= */\"","import { Component, OnInit, ViewChild, ElementRef } from \"@angular/core\";\r\nimport { MenuItem, MessageService, ConfirmationService } from \"primeng/api\";\r\nimport { ActivatedRoute, ActivatedRouteSnapshot, Params, Router } from \"@angular/router\";\r\nimport { Category } from 'src/app/model/category.model';\r\nimport { Stock } from 'src/app/model/stock.model';\r\nimport { Customer } from 'src/app/model/customer.model';\r\nimport { CustomerService } from 'src/app/shared/customer.service';\r\nimport { StockService } from 'src/app/shared/stock.service';\r\nimport { CategoryService } from 'src/app/shared/category.service';\r\nimport { SalesService } from 'src/app/shared/sales.service';\r\nimport { FormGroup, FormBuilder, Validators, FormArray } from '@angular/forms';\r\nimport { Sales } from 'src/app/model/sales.model.';\r\nimport { CommonService } from 'src/app/shared/common.service';\r\n\r\n\r\nimport * as _ from 'lodash';\r\nimport * as printJS from 'print-js'\r\nimport { AuthLoginService } from 'src/app/shared/auth.service';\r\nimport { GooglePlaceDirective } from 'ngx-google-places-autocomplete';\r\nimport { Address } from 'ngx-google-places-autocomplete/objects/address';\r\nimport { PdfGeneratorService } from 'src/app/shared/pdf-generator.service';\r\nimport { SessionService } from 'src/app/shared/session.service';\r\nimport { environment } from 'src/environments/environment';\r\nimport { isValidDate } from '@fullcalendar/core';\r\nimport { InvoiceService } from 'src/app/shared/invoice.service';\r\n\r\n\r\n@Component({\r\n  selector: \"app-sales\",\r\n  templateUrl: \"./sales.component.html\",\r\n  styleUrls: [\"./sales.component.scss\"],\r\n  providers: [ConfirmationService]\r\n})\r\nexport class SalesComponent implements OnInit {\r\n  public bradCrum: MenuItem[];\r\n  filteredBrands: any[];\r\n  categoryList: Category[];\r\n  stocks: Stock[];\r\n  customers: Customer[];\r\n  stocksList: any = [];\r\n  customerList: any = [];\r\n  cities1: any = [];\r\n  salesList: Sales[] = [];\r\n  invoiceDate: any = new Date();\r\n  rowData: any = {};\r\n  paymentStatus: any = [];\r\n  paymentType: any = [];\r\n  discountPer: any = [];\r\n  invoiceForm: FormGroup;\r\n  customerForm: FormGroup\r\n  invoice_id: number;\r\n  customerName: any;\r\n  discount: number = 0.00;\r\n  sub_total: number = 0.00;\r\n  grand_total: number = 0.00;\r\n  payment_type: number;\r\n  payment_status: number;\r\n\r\n  status: any\r\n  pdfUrl: string;\r\n  showPdf: boolean = false;\r\n\r\n  displayDialog: boolean;\r\n  displayDialog1: boolean;\r\n  displayDialog2: boolean;\r\n  displayDialog3: boolean;\r\n  displayDialog4: boolean;\r\n\r\n  stockData: any = [] // pass data to another component\r\n  catData: any = [] // pass data to another component\r\n  unitData: any = [] // pass data to another component\r\n  taxData: any = [] // pass data to another component\r\n\r\n  invoiceArray: any = [];\r\n  @ViewChild(\"form\", { static: false }) form;\r\n  @ViewChild('printDiv', { static: false }) printDiv: ElementRef;\r\n  selectedCustData: any = []\r\n  invoiceData: any\r\n  customerData: any\r\n  today: any = new Date()\r\n  stocksListResult: any = []\r\n  invoice_code: string\r\n  loaidnSpinner: boolean = false\r\n\r\n  constructor(private _fb: FormBuilder,\r\n    private router: Router,\r\n    private messageService: MessageService, private customerService: CustomerService, private stockService: StockService, private categoryService: CategoryService, private salesService: SalesService, private commonService: CommonService, private auth: AuthLoginService,\r\n    private pdfGenerator: PdfGeneratorService, public sessionService: SessionService, private activeRoute: ActivatedRoute, private invoiceService: InvoiceService\r\n  ) {\r\n\r\n    this.activeRoute.params.subscribe(\r\n      (params: Params) => {\r\n        console.log(params.invoice_code)\r\n        this.invoice_code = params.invoice_code\r\n      }\r\n    );\r\n\r\n    // let invalidDate = new Date();\r\n    // this.invalidDates = [invalidDate];\r\n\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.invoice_code) {\r\n      this.bradCrum = [\r\n        {\r\n          label: '', icon: 'pi pi-home', command: (event) => {\r\n            this.router.navigate(['/inventory-mngt/dashboard'])\r\n          }\r\n        },\r\n        {\r\n          label: \"Payment\",\r\n          command: event => {\r\n            this.router.navigate([\"/inventory-mngt/payment\"]);\r\n          }\r\n        },\r\n        {\r\n          label: \"Edit Invoice\",\r\n        },\r\n        {\r\n          label: null,\r\n        }\r\n      ];\r\n    } else {\r\n      this.bradCrum = [\r\n        {\r\n          label: '', icon: 'pi pi-home', command: (event) => {\r\n            this.router.navigate(['/inventory-mngt/dashboard'])\r\n          }\r\n        },\r\n        {\r\n          label: \"Sales\",\r\n          command: event => {\r\n            this.router.navigate([\"/inventory-mngt/sales\"]);\r\n          }\r\n        }\r\n      ];\r\n    }\r\n\r\n\r\n    this.status = [\r\n      { label: 'Active', value: 1 },\r\n      { label: 'De-Active', value: 0 },\r\n    ]\r\n\r\n    this.paymentType = [\r\n      { label: 'Cash', value: 1 },\r\n      { label: 'Card', value: 2 },\r\n    ]\r\n    this.paymentStatus = [\r\n      { label: 'Paid', value: 1 },\r\n      { label: 'Pending', value: 2 },\r\n      { label: 'Collection', value: 3 },\r\n    ]\r\n    this.discountPer = [\r\n      { label: '5%', value: 1 },\r\n      { label: '10%', value: 2 }\r\n    ]\r\n    this.createSalesForm()\r\n    this.getCustomerByCompany();\r\n    this.getCategoryByCompany();\r\n    this.getStockByCompany();\r\n    if (!this.invoice_code) {\r\n      this.getLastInvoiceByCompany();\r\n    }\r\n\r\n    this.invoiceForm.controls['company_details_id'].setValue(this.sessionService.getItem('company_id'))\r\n  }\r\n\r\n  @ViewChild(\"placesRef\", { static: false }) placesRef: GooglePlaceDirective;\r\n\r\n  public handleAddressChange(address: Address) {\r\n    console.log('address', address);\r\n    // Do some stuff\r\n    this.customerForm.controls['customer_address'].setValue(address.formatted_address);\r\n  }\r\n\r\n  public checkValidity(): void {\r\n    Object.keys(this.invoiceForm.controls).forEach((key) => {\r\n      console.log('key', key)\r\n      this.invoiceForm.controls[key].markAsDirty();\r\n    });\r\n    Object.keys(this.invoiceForm.get('invoiceList')['controls']).forEach((key1) => {\r\n      console.log('key1', key1)\r\n      Object.keys(this.invoiceForm.get('invoiceList')['controls'][key1].controls).forEach((key2) => {\r\n        console.log('key2', key2)\r\n        console.log('invoiceList', this.invoiceForm.get('invoiceList')['controls'][key1].controls[key2])\r\n        this.invoiceForm.get('invoiceList')['controls'][key1].controls[key2].markAsDirty();\r\n      });\r\n    });\r\n  }\r\n\r\n  public checkValidityCus(): void {\r\n    Object.keys(this.customerForm.controls).forEach((key) => {\r\n      this.customerForm.controls[key].markAsDirty();\r\n    });\r\n  }\r\n\r\n  createSalesForm() {\r\n    this.invoiceForm = this._fb.group({\r\n      _id: [''],\r\n      company_details_id: [this.sessionService.getItem('company_id'), Validators.required],\r\n      invoice_code: ['', Validators.required],\r\n      invoice_date: [new Date(), Validators.required],\r\n      customer_details_id: ['', Validators.required],\r\n      customer_details_id_total_purchase_amt: [0.00, Validators.required],\r\n      customer_details_id_total_paid_amt: [0.00, Validators.required],\r\n      customer_details_id_total_pending_amt: [0.00, Validators.required],\r\n      invoiceList: this._fb.array([\r\n        this.initRowFirst()\r\n      ]),\r\n      sub_total: [0.00],\r\n      discount: [0.00],\r\n      round_off: [0.00],\r\n      grand_total: [0.00, Validators.required],\r\n      befor_grand_total: [0.00],\r\n      cgst: [0.00],\r\n      sgst: [0.00],\r\n      tax_enable: [true],\r\n      payment_type: [1, Validators.required],\r\n      paid_amount: [0.00, Validators.required],\r\n      befor_paid_amount: [0.00],\r\n      balance_amount: [0.00, Validators.required],\r\n      payment_status: [2, Validators.required]\r\n    })\r\n\r\n  }\r\n\r\n  priviewPdf() {\r\n    this.pdfGenerator.testPdg()\r\n      .subscribe((data: any) => {\r\n        console.log('testPdf', data);\r\n        console.log('url', environment.api_url + data);\r\n        // printJS('docs/'+ environment.api_url + data)\r\n        // printJS({ printable: 'docs/' + environment.api_url + data + \"'\", type: 'pdf', showModal: true })\r\n      })\r\n  }\r\n\r\n  printOrder() {\r\n\r\n    // let elementCopy = this.printDiv(true);\r\n    // this.printDiv.nativeElement.appendChild();\r\n    // document.body.appendChild(this.printDiv.nativeElement);\r\n\r\n    // window.print();\r\n\r\n    // printJS('print-section', 'html')\r\n  }\r\n\r\n  printOrderWithoutView() {\r\n\r\n  }\r\n\r\n  initRowFirst(data?: any) {\r\n    console.log(data)\r\n    return this._fb.group({\r\n      stock_details_id: [data ? data.stock_details_id : '', Validators.required],\r\n      stock_name: [data ? data.stock_name : '', Validators.required],\r\n      price: [data ? data.price : '', Validators.required],\r\n      mrp: [data ? data.mrp : '', Validators.required],\r\n      qty: [data ? data.qty : '', Validators.required],\r\n      befor_qty: [data ? data.qty : ''],\r\n      total_qty: [data ? data.total_qty : '', Validators.required],\r\n      tax_name: [data ? data.tax_name : '', Validators.required],\r\n      cgst_amt: [data ? data.cgst_amt : 0.00, Validators.required],\r\n      sgst_amt: [data ? data.sgst_amt : 0.00, Validators.required],\r\n      gst_per: [data ? data.gst_per : '', Validators.required],\r\n      total: [data ? data.total : '', Validators.required],\r\n      total_with_gst: [data ? data.total_with_gst : '', Validators.required]\r\n    });\r\n  }\r\n\r\n  getInvoiceById() {\r\n    this.loaidnSpinner = true;\r\n    this.invoiceService.getInvoiceById(this.invoice_code)\r\n      .subscribe((data: any) => {\r\n        this.loaidnSpinner = false;\r\n        console.log('getInvoiceById', data);\r\n        this.bradCrum[3].label = data[0].invoice_code ? data[0].invoice_code : null;\r\n        this.selectedCustData = _.find(this.customers, { '_id': data[0].customer_details_id })\r\n        this.invoiceForm.patchValue({\r\n          _id: data[0]._id,\r\n          invoice_code: data[0].invoice_code,\r\n          invoice_date: new Date(data[0].invoice_date),\r\n          customer_details_id: data[0].customer_details_id,\r\n          customer_details_id_total_paid_amt: this.selectedCustData ? this.selectedCustData.total_paid_amt : 0,\r\n          customer_details_id_total_pending_amt: this.selectedCustData ? this.selectedCustData.total_pending_amt : 0,\r\n          customer_details_id_total_purchase_amt: this.selectedCustData ? this.selectedCustData.total_purchase_amt : 0,\r\n          discount: data[0].discount ? data[0].discount : 0,\r\n          grand_total: data[0].grand_total,\r\n          befor_grand_total: data[0].grand_total,\r\n          paid_amount: data[0].paid_amount ? data[0].paid_amount : 0,\r\n          payment_status: data[0].payment_status,\r\n          payment_type: data[0].payment_type,\r\n          round_off: data[0].round_off ? data[0].round_off : 0,\r\n          sgst: data[0].sgst,\r\n          cgst: data[0].cgst,\r\n          sub_total: data[0].sub_total,\r\n          tax_enable: data[0].tax_enable,\r\n        })\r\n        // this.invoiceForm.controls['invoice_code'].setValue(data[0].invoice_code);\r\n        const control = <FormArray>this.invoiceForm.controls['invoiceList'];\r\n        control.removeAt(0);\r\n        data[0].invoice_list.forEach(element => {\r\n          // this.initRowFirst(element)\r\n\r\n          var foundIndex = this.stocks.findIndex(x => x._id == element.stock_details_id);\r\n          this.stocks[foundIndex].stock_qty += element.qty;\r\n          let selectedProdData = _.find(this.stocks, { '_id': element.stock_details_id })\r\n          let listStock = {\r\n            label: selectedProdData.stock_name + ' | ' + selectedProdData.stock_code + ' (' + selectedProdData.stock_qty + ')',\r\n            value: selectedProdData._id\r\n          }\r\n          element.stock_details_id = listStock;\r\n          control.push(this.initRowFirst(element));\r\n        });\r\n      },\r\n        error => {\r\n        })\r\n  }\r\n\r\n  getLastInvoiceByCompany() {\r\n    this.salesService.getLastInvoice()\r\n      .subscribe((data: any) => {\r\n        console.log('getLastInvoice', data);\r\n        // this.createSalesForm()\r\n        this.invoiceForm.controls['invoice_code'].setValue(this.commonService.incrCode('ARG', data));\r\n      },\r\n        error => {\r\n          this.invoiceForm.controls['invoice_code'].setValue(this.commonService.incrCode('ARG', 0));\r\n        })\r\n  }\r\n\r\n  getCustomerByCompany() {\r\n    this.customerList = []\r\n    this.customerService.getCustomerByCompany()\r\n      .subscribe((data: any) => {\r\n        this.customers = data;\r\n        this.customerList.push({ label: '+ Add New Customer', value: 0 });\r\n        for (let custData of this.customers) {\r\n          let listCust = {\r\n            label: custData.customer_name + ' | ' + custData.customer_code,\r\n            value: custData._id\r\n          }\r\n          this.customerList.push(listCust);\r\n        }\r\n        console.log('customerList', this.customerList);\r\n      })\r\n  }\r\n\r\n  getCategoryByCompany() {\r\n    this.categoryService.getCategoryByCompany()\r\n      .subscribe((data: any) => {\r\n        console.log('categoryList', data);\r\n        this.categoryList = data;\r\n      })\r\n  }\r\n\r\n  getStockByCompany() {\r\n    this.stocks = [];\r\n    this.stocksList = [];\r\n    if (this.invoice_code) {\r\n      this.stockService.getStockByCompany()\r\n        .subscribe((data: any) => {\r\n          console.log('stocksList', data);\r\n          this.stocks = data;\r\n          // this.stocksList = data;\r\n          // this.stocksList.push({ label: '+ Add New Stock', value: 0 });\r\n          for (let stockData of this.stocks) {\r\n            let listStock = {\r\n              label: stockData.stock_name + ' | ' + stockData.stock_code + ' (' + stockData.stock_qty + ')',\r\n              value: stockData._id\r\n            }\r\n            this.stocksList.push(listStock);\r\n          }\r\n          if (this.invoice_code) {\r\n            this.getInvoiceById()\r\n          }\r\n        })\r\n\r\n    } else {\r\n      this.stockService.getStockByCompanyActive()\r\n        .subscribe((data: any) => {\r\n          console.log('stocksList', data);\r\n          this.stocks = data;\r\n          // this.stocksList = data;\r\n          // this.stocksList.push({ label: '+ Add New Stock', value: 0 });\r\n          for (let stockData of this.stocks) {\r\n            let listStock = {\r\n              label: stockData.stock_name + ' | ' + stockData.stock_code + ' (' + stockData.stock_qty + ')',\r\n              value: stockData._id\r\n            }\r\n            this.stocksList.push(listStock);\r\n          }\r\n        })\r\n    }\r\n  }\r\n\r\n\r\n\r\n  addSales() {\r\n    console.log('invoiceArray', this.invoiceForm.value);\r\n    this.invoiceForm.get('customer_details_id').setValue(this.selectedCustData._id)\r\n    this.invoiceForm.get('invoiceList')['controls'].forEach(element => {\r\n      console.log(element.controls['stock_details_id'].value)\r\n      element.controls['stock_details_id'].setValue(element.controls['stock_details_id'].value.value)\r\n    });\r\n    this.salesService.addSales(this.invoiceForm.value)\r\n      .subscribe((data: any) => {\r\n        console.log(data);\r\n        this.invoiceData = data.data[0];\r\n        this.getStockByCompany() // refresh stock qty\r\n        this.invoiceForm.reset();\r\n        this.selectedCustData = []\r\n        this.invoiceForm.controls['company_details_id'].setValue(this.sessionService.getItem('company_id'))\r\n        this.invoiceForm.controls['invoice_code'].setValue(this.commonService.incrCode('ARG', data.next_invoice));\r\n        this.invoiceForm.controls['invoice_date'].setValue(new Date());\r\n        this.invoiceForm.controls['invoiceList'].reset()\r\n        const control = <FormArray>this.invoiceForm.controls['invoiceList'];\r\n        control.clear();\r\n        control.push(this.initRowFirst());\r\n        this.invoiceForm.controls['sub_total'].setValue(0.00);\r\n        this.invoiceForm.controls['discount'].setValue(0.00);\r\n        this.invoiceForm.controls['paid_amount'].setValue(0.00);\r\n        this.invoiceForm.controls['balance_amount'].setValue(0.00);\r\n        this.invoiceForm.controls['grand_total'].setValue(0.00);\r\n        this.invoiceForm.controls['cgst'].setValue(0.00);\r\n        this.invoiceForm.controls['sgst'].setValue(0.00);\r\n        this.invoiceForm.controls['payment_type'].setValue(1);\r\n        this.invoiceForm.controls['payment_status'].setValue(1);\r\n        this.invoiceForm.controls['tax_enable'].setValue(true);\r\n\r\n\r\n\r\n        setTimeout(() => {\r\n          var divToPrint = document.getElementById('print-section');\r\n          var mywindow = window.open('', 'new div', 'height=600,width=900');\r\n          mywindow.document.write('<html><body onload=\"window.print()\">' + divToPrint.innerHTML + '</body></html>');\r\n          mywindow.document.close();\r\n          //   printJS({\r\n          //     printable: 'print-section',\r\n          //     type: 'html',\r\n          //     targetStyles: ['width'],\r\n          //     style: ' #print-section { visibility: visible!important; } ',\r\n          //   })\r\n        }, 1000);\r\n      })\r\n  }\r\n\r\n\r\n  updateSales() {\r\n    console.log('invoiceArray', this.invoiceForm.value);\r\n    this.invoiceForm.get('customer_details_id').setValue(this.selectedCustData._id)\r\n    this.invoiceForm.get('invoiceList')['controls'].forEach(element => {\r\n      console.log(element.controls['stock_details_id'].value)\r\n      element.controls['stock_details_id'].setValue(element.controls['stock_details_id'].value.value)\r\n    });\r\n    this.salesService.updateSales(this.invoiceForm.value)\r\n      .subscribe((data: any) => {\r\n        console.log(data);\r\n        this.invoiceData = data.data[0];\r\n        this.getStockByCompany() // refresh stock qty\r\n        this.invoiceForm.reset();\r\n        this.selectedCustData = []\r\n        this.invoiceForm.controls['company_details_id'].setValue(this.sessionService.getItem('company_id'))\r\n        this.invoiceForm.controls['invoice_code'].setValue(this.commonService.incrCode('ARG', data.next_invoice));\r\n        this.invoiceForm.controls['invoice_date'].setValue(new Date());\r\n        this.invoiceForm.controls['invoiceList'].reset()\r\n        const control = <FormArray>this.invoiceForm.controls['invoiceList'];\r\n        control.clear();\r\n        control.push(this.initRowFirst());\r\n        this.invoiceForm.controls['sub_total'].setValue(0.00);\r\n        this.invoiceForm.controls['discount'].setValue(0.00);\r\n        this.invoiceForm.controls['paid_amount'].setValue(0.00);\r\n        this.invoiceForm.controls['balance_amount'].setValue(0.00);\r\n        this.invoiceForm.controls['grand_total'].setValue(0.00);\r\n        this.invoiceForm.controls['cgst'].setValue(0.00);\r\n        this.invoiceForm.controls['sgst'].setValue(0.00);\r\n        this.invoiceForm.controls['payment_type'].setValue(1);\r\n        this.invoiceForm.controls['payment_status'].setValue(1);\r\n        this.invoiceForm.controls['tax_enable'].setValue(true);\r\n\r\n        setTimeout(() => {\r\n          var divToPrint = document.getElementById('print-section');\r\n          var mywindow = window.open('', 'new div', 'height=600,width=900');\r\n          mywindow.document.write('<html><body onload=\"window.print()\">' + divToPrint.innerHTML + '</body></html>');\r\n          mywindow.document.close();\r\n          this.router.navigate(['/inventory-mngt/payment'])\r\n          //   printJS({\r\n          //     printable: 'print-section',\r\n          //     type: 'html',\r\n          //     targetStyles: ['width'],\r\n          //     style: ' #print-section { visibility: visible!important; } ',\r\n          //   })\r\n        }, 1000);\r\n      })\r\n  }\r\n\r\n  printPriview() {\r\n\r\n    let invoiceData = this.invoiceForm.value;\r\n    invoiceData.invoice_list = invoiceData.invoiceList;\r\n    invoiceData.customer_details_id = {\r\n      customer_code: this.selectedCustData.customer_code,\r\n      customer_name: this.selectedCustData.customer_name,\r\n      customer_address: this.selectedCustData.customer_address,\r\n      phone: this.selectedCustData.phone,\r\n      customer_gstin: this.selectedCustData.customer_gstin,\r\n      route_name: this.selectedCustData.route_name,\r\n    }\r\n    this.invoiceData = invoiceData;\r\n\r\n    setTimeout(() => {\r\n      var divToPrint = document.getElementById('print-section');\r\n      var mywindow = window.open('', 'new div', 'height=600,width=900');\r\n      mywindow.document.write('<html><body onload=\"window.print()\">' + divToPrint.innerHTML + '</body></html>');\r\n      mywindow.document.close();\r\n      // printJS({\r\n      //   printable: 'print-section',\r\n      //   type: 'html',\r\n      //   targetStyles: ['width'],\r\n      //   style: ' #print-section { visibility: visible!important; } ',\r\n      // })\r\n    }, 1000);\r\n\r\n  }\r\n\r\n  saveOrder() {\r\n    console.log(this.invoiceForm.value);\r\n    if (this.invoiceForm.invalid) {\r\n      this.checkValidity()\r\n      this.messageService.add({ severity: 'error', summary: 'Oopss!', detail: 'Please fill the mantatory field!' });\r\n      return false;\r\n    }\r\n    if (this.invoice_code) {\r\n      this.updateSales()\r\n    } else {\r\n      this.addSales()\r\n    }\r\n  }\r\n\r\n\r\n  onSelectCust(event) {\r\n    console.log(event.value);\r\n    if (event.value == 0) {\r\n      this.selectedCustData = []\r\n      this.displayDialog3 = true\r\n      this.invoiceForm.controls['customer_details_id'].reset();\r\n      return false\r\n    } else {\r\n      this.selectedCustData = _.find(this.customers, { '_id': event.value })\r\n      this.invoiceForm.get('tax_enable').setValue(this.selectedCustData.enable_tax ? this.selectedCustData.enable_tax : false)\r\n      this.invoiceForm.get('customer_details_id_total_purchase_amt').setValue(this.selectedCustData.total_purchase_amt ? this.selectedCustData.total_purchase_amt : 0)\r\n      this.invoiceForm.get('customer_details_id_total_paid_amt').setValue(this.selectedCustData.total_paid_amt ? this.selectedCustData.total_paid_amt : 0)\r\n      this.invoiceForm.get('customer_details_id_total_pending_amt').setValue(this.selectedCustData.total_pending_amt ? this.selectedCustData.total_pending_amt : 0)\r\n      this.calculateTotal()\r\n    }\r\n\r\n  }\r\n\r\n\r\n  addListItem() {\r\n    if (this.invoiceForm.controls['invoiceList'].invalid) {\r\n      this.checkValidity()\r\n      this.messageService.add({ severity: 'error', summary: 'Oopss!', detail: 'Please fill the mantatory field!' });\r\n      return false;\r\n    }\r\n    const control = <FormArray>this.invoiceForm.controls['invoiceList'];\r\n    control.push(this.initRowFirst());\r\n    console.log(control)\r\n  }\r\n\r\n  deleteListItem(i) {\r\n    const control = <FormArray>this.invoiceForm.controls['invoiceList'];\r\n    control.removeAt(i);\r\n    console.log(control)\r\n    this.calculateTotal()\r\n  }\r\n\r\n  onReset() {\r\n    // reset whole form back to initial state   \r\n    // this.invoiceForm.reset();\r\n    // this.invoiceForm.controls['invoice_code'].setValue(this.commonService.incrCode('INV',this.customerList.length)); \r\n    this.selectedCustData = []\r\n    this.invoiceForm.controls['invoiceList'].reset()\r\n    const control = <FormArray>this.invoiceForm.controls['invoiceList'];\r\n    control.clear();\r\n    control.push(this.initRowFirst());\r\n    this.invoiceForm.controls['invoice_date'].setValue(new Date());\r\n    this.invoiceForm.controls['sub_total'].setValue(0.00);\r\n    this.invoiceForm.controls['discount'].setValue(0.00);\r\n    this.invoiceForm.controls['paid_amount'].setValue(0.00);\r\n    this.invoiceForm.controls['balance_amount'].setValue(0.00);\r\n    this.invoiceForm.controls['grand_total'].setValue(0.00);\r\n    this.invoiceForm.controls['sub_total'].setValue(0.00);\r\n    this.invoiceForm.controls['discount'].setValue(0.00);\r\n    this.invoiceForm.controls['cgst'].setValue(0.00);\r\n    this.invoiceForm.controls['sgst'].setValue(0.00);\r\n    this.invoiceForm.controls['tax_enable'].setValue(true);\r\n  }\r\n\r\n  onClear() {\r\n    // clear errors and reset ticket fields  \r\n  }\r\n\r\n  searchProduct(event) {\r\n    // this.mylookupservice.getResults(event.query).then(data => {\r\n    //     this.results = data;\r\n    // });\r\n    this.stocksListResult = this.stocksList.filter(item => item.label.toLowerCase().indexOf(event.query) >= 0)\r\n    this.stocksListResult.unshift({ label: '+ Add New Stock', value: 0 });\r\n  }\r\n\r\n  onSelectProduct(event, i) {\r\n    console.log(event.value, i);\r\n    if (event.value == 0) {\r\n      // this.showDialogToAddStock()\r\n      this.displayDialog = true;\r\n      this.invoiceForm.get('invoiceList')['controls'][i].reset()\r\n      return false\r\n    }\r\n    console.log(this.invoiceForm.value.invoiceList);\r\n    if (this.invoiceForm.value.invoiceList.length > 1) {\r\n      let cloneInvoiceList = this.invoiceForm.value.invoiceList.slice();\r\n      cloneInvoiceList.splice(i, 1); // to remove selected row\r\n      let stockAddedData = _.find(cloneInvoiceList, { 'stock_details_id': { value: event.value } })\r\n      console.log('stockAddedData', stockAddedData);\r\n      if (stockAddedData) {\r\n        this.messageService.add({ severity: 'warn', summary: 'Warning!', detail: 'Stock already added in invoice' });\r\n        this.invoiceForm.get('invoiceList')['controls'][i].controls['stock_details_id'].reset()\r\n        return false\r\n      }\r\n    }\r\n\r\n    var sliceIndex = _.findIndex(this.stocks, function (o) { return o._id == event.value; });\r\n    console.log(sliceIndex);\r\n    if (sliceIndex > -1) {\r\n      // this.loggedInUsersList.splice(sliceIndex, 1);\r\n      console.log(this.stocks[sliceIndex]);\r\n      console.log(this.invoiceForm.get('invoiceList')['controls'][i]);\r\n      // this.invoiceForm.get('invoiceList')['controls'][i].controls['qty'].setValue(this.stocks[sliceIndex].stock_qty) \r\n      this.invoiceForm.get('invoiceList')['controls'][i].controls['qty'].setValue(1)\r\n      this.invoiceForm.get('invoiceList')['controls'][i].controls['stock_name'].setValue(this.stocks[sliceIndex].stock_name)\r\n      this.invoiceForm.get('invoiceList')['controls'][i].controls['total_qty'].setValue(this.stocks[sliceIndex].stock_qty)\r\n      this.invoiceForm.get('invoiceList')['controls'][i].controls['price'].setValue(this.stocks[sliceIndex].selling_price)\r\n      this.invoiceForm.get('invoiceList')['controls'][i].controls['mrp'].setValue(this.stocks[sliceIndex].mrp)\r\n      this.invoiceForm.get('invoiceList')['controls'][i].controls['tax_name'].setValue(this.stocks[sliceIndex].tax_details_id.tax_name)\r\n      let cgst_amt = Number(this.stocks[sliceIndex].selling_price) * (Number(this.stocks[sliceIndex].tax_details_id.tax_value_cgst) / 100);\r\n      this.invoiceForm.get('invoiceList')['controls'][i].controls['cgst_amt'].setValue(cgst_amt);\r\n      let sgst_amt = Number(this.stocks[sliceIndex].selling_price) * (Number(this.stocks[sliceIndex].tax_details_id.tax_value_sgst) / 100);\r\n      this.invoiceForm.get('invoiceList')['controls'][i].controls['sgst_amt'].setValue(sgst_amt)\r\n      let gst_pet = Number(this.stocks[sliceIndex].tax_details_id.tax_value_cgst) + Number(this.stocks[sliceIndex].tax_details_id.tax_value_sgst)\r\n      this.invoiceForm.get('invoiceList')['controls'][i].controls['gst_per'].setValue(gst_pet)\r\n      this.invoiceForm.get('invoiceList')['controls'][i].controls['total'].setValue(1 * this.stocks[sliceIndex].selling_price)\r\n      let total_amt_with_gst = ((1 * this.stocks[sliceIndex].selling_price) * gst_pet / 100) + this.stocks[sliceIndex].selling_price;\r\n      this.invoiceForm.get('invoiceList')['controls'][i].controls['total_with_gst'].setValue(total_amt_with_gst)\r\n      this.calculateTotal()\r\n    }\r\n  }\r\n\r\n  onChangeQty(i) {\r\n    if (!this.invoiceForm.get('invoiceList')['controls'][i].value.stock_details_id && this.invoiceForm.get('invoiceList')['controls'][i].value.stock_details_id == '') {\r\n      return\r\n    }\r\n    if (this.invoiceForm.get('invoiceList')['controls'][i].value.qty == 0 || this.invoiceForm.get('invoiceList')['controls'][i].value.qty == '0') {\r\n      this.messageService.add({ severity: 'warn', summary: 'Warning!', detail: 'Quantity atleast 1' });\r\n      this.invoiceForm.get('invoiceList')['controls'][i].controls['qty'].setValue(1)\r\n      return\r\n    }\r\n    console.log(i);\r\n    console.log(this.invoiceForm.value.invoiceList[i].stock_details_id.value);\r\n    console.log(this.stocks);\r\n    console.log('qty', this.invoiceForm.get('invoiceList')['controls'][i].value.qty);\r\n    let stockData = _.find(this.stocks, { '_id': this.invoiceForm.value.invoiceList[i].stock_details_id.value })\r\n    // let stockDataAdded = _.find(this.invoiceForm.value.invoiceList, { '_id': this.invoiceForm.value.invoiceList[i].stock_details_id })\r\n    console.log(this.stocks[i]);\r\n    console.log('stockData', stockData);\r\n    console.log(this.invoiceForm.get('invoiceList')['controls'][i].value);\r\n    // this.invoiceForm.get('invoiceList')['controls'][i].controls['qty'].setValue(this.stocks[i].stock_qty) \r\n    // this.invoiceForm.get('invoiceList')['controls'][i].controls['price'].setValue(this.stocks[i].selling_price) \r\n    if (stockData.stock_qty >= this.invoiceForm.get('invoiceList')['controls'][i].value.qty) {\r\n      this.invoiceForm.get('invoiceList')['controls'][i].controls['total'].setValue(this.invoiceForm.get('invoiceList')['controls'][i].value.qty * this.invoiceForm.get('invoiceList')['controls'][i].value.price)\r\n\r\n      let cgst_amt = Number(this.invoiceForm.get('invoiceList')['controls'][i].value.total) * (Number(this.stocks[i].tax_details_id.tax_value_cgst) / 100);\r\n      this.invoiceForm.get('invoiceList')['controls'][i].controls['cgst_amt'].setValue(cgst_amt);\r\n      let sgst_amt = Number(this.invoiceForm.get('invoiceList')['controls'][i].value.total) * (Number(this.stocks[i].tax_details_id.tax_value_sgst) / 100);\r\n      this.invoiceForm.get('invoiceList')['controls'][i].controls['sgst_amt'].setValue(sgst_amt)\r\n      let total_amt_with_gst = this.invoiceForm.get('invoiceList')['controls'][i].value.total * (this.invoiceForm.get('invoiceList')['controls'][i].value.gst_per / 100) + this.invoiceForm.get('invoiceList')['controls'][i].value.total;\r\n      this.invoiceForm.get('invoiceList')['controls'][i].controls['total_with_gst'].setValue(total_amt_with_gst)\r\n    } else {\r\n      this.invoiceForm.get('invoiceList')['controls'][i].controls['qty'].setValue(1)\r\n      let qty_data = stockData.stock_name + ' has ' + stockData.stock_qty + ' only available!'\r\n      this.messageService.add({ severity: 'error', summary: 'Oopss!', detail: qty_data });\r\n    }\r\n    this.calculateTotal()\r\n\r\n  }\r\n\r\n\r\n  onChangeDiscount() {\r\n    if (this.invoiceForm.value.tax_enable) {\r\n      let grand_total = (this.invoiceForm.value.sub_total - this.invoiceForm.value.discount) + this.invoiceForm.value.cgst + this.invoiceForm.value.sgst;\r\n      let round_off_total = Math.round(grand_total)\r\n      let round_off_amt = round_off_total - grand_total\r\n      this.invoiceForm.controls['round_off'].setValue(round_off_amt)\r\n      this.invoiceForm.controls['grand_total'].setValue(round_off_total)\r\n    } else {\r\n      let grand_total = this.invoiceForm.value.sub_total - this.invoiceForm.value.discount;\r\n      let round_off_total = Math.round(grand_total)\r\n      let round_off_amt = round_off_total - grand_total\r\n      this.invoiceForm.controls['round_off'].setValue(round_off_amt)\r\n      this.invoiceForm.controls['grand_total'].setValue(round_off_total)\r\n    }\r\n  }\r\n\r\n  toggleTax(event) {\r\n    if (this.invoiceForm.controls['grand_total'].value == 0) {\r\n      return false\r\n    }\r\n    this.calculateTotal()\r\n  }\r\n\r\n  calculateTotal() {\r\n\r\n    // subtotal\r\n    var sub_total = 0\r\n    var sub_total = _.sumBy(this.invoiceForm.value.invoiceList, 'total')\r\n    console.log('sub_total1', sub_total);\r\n\r\n    this.invoiceForm.controls['sub_total'].setValue(sub_total)\r\n\r\n    // cgst_total\r\n    var cgst_total = 0\r\n    var cgst_total = _.sumBy(this.invoiceForm.value.invoiceList, 'cgst_amt')\r\n    this.invoiceForm.controls['cgst'].setValue(cgst_total)\r\n\r\n    // sgst_total\r\n    var sgst_total = 0\r\n    var sgst_total = _.sumBy(this.invoiceForm.value.invoiceList, 'sgst_amt')\r\n    this.invoiceForm.controls['sgst'].setValue(sgst_total)\r\n\r\n    if (this.invoiceForm.value.tax_enable) {\r\n      let grand_total = (sub_total - this.invoiceForm.value.discount) + cgst_total + sgst_total;\r\n      let round_off_total = Math.round(grand_total)\r\n      let round_off_amt = round_off_total - grand_total\r\n      this.invoiceForm.controls['round_off'].setValue(round_off_amt)\r\n      this.invoiceForm.controls['grand_total'].setValue(round_off_total)\r\n    } else {\r\n      let grand_total = sub_total - this.invoiceForm.value.discount;\r\n      let round_off_total = Math.round(grand_total)\r\n      let round_off_amt = round_off_total - grand_total\r\n      this.invoiceForm.controls['round_off'].setValue(round_off_amt)\r\n      this.invoiceForm.controls['grand_total'].setValue(round_off_total)\r\n    }\r\n\r\n  }\r\n\r\n\r\n  onChangePaindAmount() {\r\n    this.invoiceForm.controls['balance_amount'].setValue(this.invoiceForm.value.grand_total - this.invoiceForm.value.paid_amount)\r\n  }\r\n\r\n\r\n\r\n  receiveStock(event) {\r\n    console.log(event)\r\n    // this.stocksList = [event,...this.stocksList];\r\n    this.getStockByCompany()\r\n  }\r\n\r\n  receiveCategory(event) {\r\n    console.log('receiveCategory', event)\r\n    this.catData = event\r\n  }\r\n\r\n  receiveUnit(event) {\r\n    console.log('receiveUnit', event)\r\n    this.unitData = event\r\n  }\r\n\r\n  receiveTax(event) {\r\n    console.log('receiveTax', event)\r\n    this.taxData = event\r\n  }\r\n\r\n  receiveCustomer(event) {\r\n    console.log('receiveCustomer', event)\r\n    this.getCustomerByCompany()\r\n  }\r\n\r\n  onDialogClose(event) {\r\n    console.log(event)\r\n    this.catData = []     // clear new cat data while open stock form\r\n    this.unitData = []  // clear new unit data while open stock form\r\n    this.displayDialog = false;\r\n  }\r\n\r\n  onDialogClose1(event) {\r\n    console.log(event)\r\n    this.displayDialog1 = false;\r\n  }\r\n\r\n  onDialogClose2(event) {\r\n    console.log(event)\r\n    this.displayDialog2 = false;\r\n  }\r\n\r\n  onDialogClose3(event) {\r\n    console.log(event)\r\n    this.displayDialog3 = false;\r\n  }\r\n\r\n  onDialogClose4(event) {\r\n    console.log(event)\r\n    this.displayDialog4 = false;\r\n  }\r\n\r\n  categoryDialog(event) {\r\n    console.log('categoryDialog', event)\r\n    this.displayDialog1 = event;\r\n  }\r\n\r\n  unitDialog(event) {\r\n    console.log('unitDialog', event)\r\n    this.displayDialog2 = event;\r\n  }\r\n\r\n  taxDialog(event) {\r\n    console.log('taxDialog', event)\r\n    this.displayDialog4 = event;\r\n  }\r\n\r\n  scanBarcode() {\r\n    let bardcode = '5e12c97cfb943b2df8151858';\r\n    var geStockData = _.find(this.stocks, function (o) { return o._id == bardcode; });\r\n    console.log('geStockData', geStockData)\r\n    let event = { value: geStockData._id }\r\n    console.log('event', event)\r\n    let addIndex = Number(this.invoiceForm.get('invoiceList')['controls'].length) - 1\r\n    if (addIndex == 0 && this.invoiceForm.get('invoiceList')['controls'][addIndex].invalid) {\r\n      this.onSelectProduct(event, addIndex)\r\n      this.invoiceForm.get('invoiceList')['controls'][addIndex].controls['stock_details_id'].setValue(geStockData._id)\r\n    } else {\r\n      this.addListItem()\r\n      this.onSelectProduct(event, addIndex)\r\n      this.invoiceForm.get('invoiceList')['controls'][addIndex].controls['stock_details_id'].setValue(geStockData._id)\r\n    }\r\n\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { SalesComponent } from './sales.component';\r\nimport { SalesRoutingModule } from './sales-routing.module';\r\nimport { BreadcrumbModule } from 'primeng/breadcrumb';\r\nimport { ToastModule } from 'primeng/toast';\r\nimport { TableModule } from 'primeng/table';\r\nimport { ButtonModule } from 'primeng/button';\r\nimport { InputTextModule } from 'primeng/inputtext';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { CardModule } from 'primeng/card';\r\nimport { AutoCompleteModule } from 'primeng/autocomplete';\r\nimport { CalendarModule } from 'primeng/calendar';\r\nimport { CheckboxModule } from 'primeng/checkbox';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { KeyFilterModule } from 'primeng/keyfilter';\r\nimport { InputMaskModule } from 'primeng/inputmask';\r\nimport { ConfirmDialogModule } from 'primeng/confirmdialog';\r\nimport { SpinnerModule } from 'primeng/spinner';\r\nimport { SplitButtonModule } from 'primeng/splitbutton';\r\nimport { InplaceModule } from 'primeng/inplace';\r\nimport { DialogModule } from 'primeng/dialog';\r\nimport { GooglePlaceModule } from 'ngx-google-places-autocomplete';\r\nimport { SidebarModule } from 'primeng/sidebar';\r\nimport { SafePipeModule } from 'safe-pipe';\r\nimport { StockFormModule } from '../../shared/stock-form/stock-form.module';\r\nimport { CategoryFormModule } from '../../shared/category-form/category-form.module';\r\nimport { UnitFormModule } from '../../shared/unit-form/unit-form.module';\r\nimport { CustomerFormModule } from '../../shared/customer-form/customer-form.module';\r\nimport { InvoiceDesignModule } from '../../shared/invoice-design/invoice-design.module';\r\nimport { InvoiceDesignPosModule } from '../../shared/invoice-design-pos/invoice-design-pos.module';\r\nimport { ScrollPanelModule } from 'primeng/scrollpanel';\r\nimport { TaxFormModule } from '../../shared/tax-form/tax-form.module';\r\nimport { ProgressSpinnerModule } from 'primeng/progressspinner';\r\n\r\n\r\n@NgModule({\r\n  declarations: [SalesComponent],\r\n  imports: [\r\n    CommonModule,\r\n    SalesRoutingModule,\r\n    ReactiveFormsModule,\r\n    BreadcrumbModule,\r\n    ToastModule,\r\n    TableModule,\r\n    ButtonModule,\r\n    InputTextModule,\r\n    FormsModule,\r\n    CardModule,\r\n    AutoCompleteModule,\r\n    CalendarModule,\r\n    CheckboxModule,\r\n    DropdownModule,\r\n    KeyFilterModule,\r\n    InputMaskModule,\r\n    ConfirmDialogModule,\r\n    SpinnerModule,\r\n    SplitButtonModule,\r\n    InplaceModule,\r\n    DialogModule,\r\n    GooglePlaceModule,\r\n    SidebarModule,\r\n    SafePipeModule,\r\n    StockFormModule,\r\n    CategoryFormModule,\r\n    UnitFormModule,\r\n    CustomerFormModule,\r\n    InvoiceDesignModule,\r\n    InvoiceDesignPosModule,\r\n    ScrollPanelModule,\r\n    TaxFormModule,\r\n    ProgressSpinnerModule\r\n  ],\r\n  exports: [SalesComponent]\r\n})\r\nexport class SalesModule { }\r\n"],"sourceRoot":"webpack:///"}