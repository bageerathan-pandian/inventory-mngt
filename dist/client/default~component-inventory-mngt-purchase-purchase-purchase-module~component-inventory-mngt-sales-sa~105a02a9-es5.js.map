{"version":3,"sources":["src/app/component/inventory-mngt/shared/unit-form/unit-form.component.html","src/app/component/inventory-mngt/shared/unit-form/unit-form.component.scss","src/app/component/inventory-mngt/shared/unit-form/unit-form.component.ts","src/app/component/inventory-mngt/shared/unit-form/unit-form.module.ts","src/app/shared/unit.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,IAAA,mBAAA,CAAA,CAAA,CAAA,mBAAA;AAAe;;;AAAA,IAAA,mBAAA,CAAA,SAAA,CAAA,GAAA,orEAAA;;;;;;;;;;;;;;;;ACAf,IAAA,mBAAA,CAAA,CAAA,CAAA,mBAAA;AAAe;;;AAAA,IAAA,mBAAA,CAAA,SAAA,CAAA,GAAA,6OAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACaf,QAAa,iBAAb;AAYE,iCAAoB,GAApB,EAA8C,WAA9C,EAA8E,aAA9E,EACS,cADT,EACiD,cADjD,EAC+E;AAAA;;AAD3D,aAAA,GAAA,GAAA,GAAA;AAA0B,aAAA,WAAA,GAAA,WAAA;AAAgC,aAAA,aAAA,GAAA,aAAA;AACrE,aAAA,cAAA,GAAA,cAAA;AAAwC,aAAA,cAAA,GAAA,cAAA;AAPvC,aAAA,mBAAA,GAAsB,IAAI,0CAAA,CAAA,cAAA,CAAJ,EAAtB;AACA,aAAA,SAAA,GAAY,IAAI,0CAAA,CAAA,cAAA,CAAJ,EAAZ;AASN,aAAK,MAAL,GAAc,CACZ;AAAC,UAAA,KAAK,EAAC,QAAP;AAAiB,UAAA,KAAK,EAAC;AAAvB,SADY,EAEZ;AAAC,UAAA,KAAK,EAAC,WAAP;AAAoB,UAAA,KAAK,EAAC;AAA1B,SAFY,CAAd;AAKA,aAAK,QAAL,GAAgB,KAAK,GAAL,CAAS,KAAT,CAAe;AAC7B,UAAA,GAAG,EAAE,CAAC,EAAD,CADwB;AAE7B,UAAA,kBAAkB,EAAE,CAAC,EAAD,EAAI,2CAAA,CAAA,YAAA,CAAA,CAAW,QAAf,CAFS;AAG7B,UAAA,SAAS,EAAE,CAAC,EAAD,EAAI,2CAAA,CAAA,YAAA,CAAA,CAAW,QAAf,CAHkB;AAI7B,UAAA,SAAS,EAAE,CAAC,EAAD,EAAI,2CAAA,CAAA,YAAA,CAAA,CAAW,QAAf,CAJkB;AAK7B,UAAA,MAAM,EAAE,CAAC,CAAD,EAAG,2CAAA,CAAA,YAAA,CAAA,CAAW,QAAd;AALqB,SAAf,CAAhB;AAOH;;AA5BH;AAAA;AAAA,mCA8BU,CACP;AA/BH;AAAA;AAAA,sCAkCa;AACT,UAAA,OAAO,CAAC,GAAR,CAAY,gBAAZ,EAA6B,KAAK,cAAlC;AACA,UAAA,OAAO,CAAC,GAAR,CAAY,iBAAZ,EAA8B,mCAAA,CAAA,eAAA,CAAA,CAAgB,KAAK,QAArB,CAA9B;;AACA,cAAG,mCAAA,CAAA,eAAA,CAAA,CAAgB,KAAK,QAArB,CAAH,EAAkC;AAChC,YAAA,OAAO,CAAC,GAAR,CAAY,SAAZ,EAAsB,KAAK,QAA3B;AACA,iBAAK,QAAL,CAAc,QAAd,CAAuB,KAAvB,EAA8B,QAA9B,CAAuC,KAAK,QAAL,CAAc,GAArD;AACA,iBAAK,QAAL,CAAc,QAAd,CAAuB,WAAvB,EAAoC,QAApC,CAA6C,KAAK,QAAL,CAAc,SAA3D;AACA,iBAAK,QAAL,CAAc,QAAd,CAAuB,WAAvB,EAAoC,QAApC,CAA6C,KAAK,QAAL,CAAc,SAA3D;AACA,iBAAK,QAAL,CAAc,QAAd,CAAuB,oBAAvB,EAA6C,QAA7C,CAAsD,KAAK,cAAL,CAAoB,OAApB,CAA4B,YAA5B,CAAtD;AACA,iBAAK,QAAL,CAAc,QAAd,CAAuB,QAAvB,EAAiC,QAAjC,CAA0C,KAAK,QAAL,CAAc,MAAxD;AACC,WAPH,MAOO;AACL,iBAAK,gBAAL;AACC;AAEJ;AAhDH;AAAA;AAAA,2CAkDkB;AAAA;;AACd,eAAK,WAAL,CAAiB,gBAAjB,GACC,SADD,CACW,UAAC,IAAD,EAAY;AACrB,YAAA,OAAO,CAAC,GAAR,CAAY,UAAZ,EAAuB,IAAvB;;AACE,YAAA,KAAI,CAAC,QAAL,CAAc,KAAd;;AACA,YAAA,KAAI,CAAC,QAAL,CAAc,QAAd,CAAuB,WAAvB,EAAoC,QAApC,CAA6C,KAAI,CAAC,aAAL,CAAmB,QAAnB,CAA4B,GAA5B,EAAgC,IAAI,CAAC,MAArC,CAA7C;;AACA,YAAA,KAAI,CAAC,QAAL,CAAc,QAAd,CAAuB,QAAvB,EAAiC,QAAjC,CAA0C,CAA1C;;AACA,YAAA,KAAI,CAAC,QAAL,CAAc,QAAd,CAAuB,oBAAvB,EAA6C,QAA7C,CAAsD,KAAI,CAAC,cAAL,CAAoB,OAApB,CAA4B,YAA5B,CAAtD;AACH,WAPD;AAQD;AA3DH;AAAA;AAAA,wCA6DsB;AAAA;;AAClB,UAAA,MAAM,CAAC,IAAP,CAAY,KAAK,QAAL,CAAc,QAA1B,EAAoC,OAApC,CAA4C,UAAC,GAAD,EAAQ;AAChD,YAAA,MAAI,CAAC,QAAL,CAAc,QAAd,CAAuB,GAAvB,EAA4B,WAA5B;AACH,WAFD;AAGD;AAjEH;AAAA;AAAA,kCAoES;AAAA;;AACL,UAAA,OAAO,CAAC,GAAR,CAAY,UAAZ,EAAuB,KAAK,QAA5B;;AACA,cAAG,KAAK,QAAL,CAAc,OAAjB,EAAyB;AACvB,iBAAK,aAAL;AACA;AACD;;AAEC,eAAK,WAAL,CAAiB,OAAjB,CAAyB,KAAK,QAAL,CAAc,KAAvC,EACC,SADD,CACW,UAAC,IAAD,EAAY;AACrB,YAAA,OAAO,CAAC,GAAR,CAAY,UAAZ,EAAuB,IAAvB,EADqB,CAErB;AACA;AACA;AACA;;AACC,YAAA,MAAI,CAAC,SAAL,CAAe,IAAf,CAAoB,IAApB,EANoB,CAOrB;AACA;AACA;;;AACA,YAAA,MAAI,CAAC,cAAL,CAAoB,GAApB,CAAwB;AAAC,cAAA,QAAQ,EAAC,SAAV;AAAqB,cAAA,OAAO,EAAC,6BAA7B;AAA4D,cAAA,MAAM,EAAC;AAAnE,aAAxB,EAVqB,CAWrB;;;AACA,YAAA,MAAI,CAAC,cAAL,GAAsB,KAAtB;AACD,WAdD,EAeA,UAAA,KAAK,EAAG;AACN,YAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;;AACA,YAAA,MAAI,CAAC,cAAL,CAAoB,GAApB,CAAwB;AAAC,cAAA,QAAQ,EAAC,OAAV;AAAmB,cAAA,OAAO,EAAC,QAA3B;AAAqC,cAAA,MAAM,EAAC;AAA5C,aAAxB;;AACA,YAAA,MAAI,CAAC,cAAL,GAAsB,KAAtB;AAED,WApBD;AAqBH;AAhGH;AAAA;AAAA,qCAkGY;AAAA;;AACR,UAAA,OAAO,CAAC,GAAR,CAAY,UAAZ,EAAuB,KAAK,QAA5B;;AACA,cAAG,KAAK,QAAL,CAAc,OAAjB,EAAyB;AACvB,iBAAK,aAAL;AACA;AACD;;AAEC,eAAK,WAAL,CAAiB,UAAjB,CAA4B,KAAK,QAAL,CAAc,KAA1C,EACC,SADD,CACW,UAAC,IAAD,EAAY;AACrB,YAAA,OAAO,CAAC,GAAR,CAAY,UAAZ,EAAuB,IAAvB,EADqB,CAErB;AACA;AACA;AACA;;AACC,YAAA,MAAI,CAAC,SAAL,CAAe,IAAf,CAAoB,IAApB,EANoB,CAOrB;AACA;AACA;;;AACA,YAAA,MAAI,CAAC,cAAL,CAAoB,GAApB,CAAwB;AAAC,cAAA,QAAQ,EAAC,SAAV;AAAqB,cAAA,OAAO,EAAC,2BAA7B;AAA0D,cAAA,MAAM,EAAC;AAAjE,aAAxB,EAVqB,CAWrB;;;AACA,YAAA,MAAI,CAAC,cAAL,GAAsB,KAAtB;AACD,WAdD,EAeA,UAAA,KAAK,EAAG;AACN,YAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;;AACA,YAAA,MAAI,CAAC,cAAL,CAAoB,GAApB,CAAwB;AAAC,cAAA,QAAQ,EAAC,OAAV;AAAmB,cAAA,OAAO,EAAC,QAA3B;AAAqC,cAAA,MAAM,EAAC;AAA5C,aAAxB;;AACA,YAAA,MAAI,CAAC,cAAL,GAAsB,KAAtB;AAED,WApBD;AAqBH;AA9HH;AAAA;AAAA,kCAgIS;AACL;AACA,eAAK,mBAAL,CAAyB,IAAzB,CAA8B,KAA9B;AACD,SAnIH,CAqII;;AArIJ;AAAA;AAAA,sCAsIe;AACT,eAAK,mBAAL,CAAyB,WAAzB;AACD;AAxIL;;AAAA;AAAA,OAAA;;;;cAY2B,2CAAA,CAAA,aAAA;;cAAiC,wDAAA,CAAA,aAAA;;cAAmC,0DAAA,CAAA,eAAA;;cACpE,2DAAA,CAAA,gBAAA;;cAAwC,wCAAA,CAAA,gBAAA;;;;AAVxD,IAAA,kCAAA,CAAA,YAAA,CAAA,CAAA,CAAR,MAAA,CAAA,0CAAA,CAAA,OAAA,CAAA,CAAA,EAAQ,E,uEAAA,CAAA,E,2BAAA,E,UAAA,E,KAAc,CAAd;AACA,IAAA,kCAAA,CAAA,YAAA,CAAA,CAAA,CAAR,MAAA,CAAA,0CAAA,CAAA,OAAA,CAAA,CAAA,EAAQ,E,wEAAA,CAAA,E,2BAAA,E,gBAAA,E,KAAuB,CAAvB;AAEC,IAAA,kCAAA,CAAA,YAAA,CAAA,CAAA,CAAT,MAAA,CAAA,0CAAA,CAAA,QAAA,CAAA,CAAA,EAAS,E,uEAAA,CAAA,E,2BAAA,E,qBAAA,E,KAAyC,CAAzC;AACA,IAAA,kCAAA,CAAA,YAAA,CAAA,CAAA,CAAT,MAAA,CAAA,0CAAA,CAAA,QAAA,CAAA,CAAA,EAAS,E,uEAAA,CAAA,E,2BAAA,E,WAAA,E,KAA+B,CAA/B;AAPC,IAAA,iBAAiB,GAAA,kCAAA,CAAA,YAAA,CAAA,CAAA,CAL7B,MAAA,CAAA,0CAAA,CAAA,WAAA,CAAA,CAAA,CAAU;AACT,MAAA,QAAQ,EAAE,eADD;AAET,MAAA,QAAA,EAAA,kCAAA,CAAA,iBAAA,CAAA,CAAA,mBAAA;AAAA;AAAA,0HAAA,CAAA,EAAA,OAFS;;;;AAAA,KAAV,CAK6B,E,uEAYH,2CAAA,CAAA,aAAA,C,EAAiC,wDAAA,CAAA,aAAA,C,EAAmC,0DAAA,CAAA,eAAA,C,EACpE,2DAAA,CAAA,gBAAA,C,EAAwC,wCAAA,CAAA,gBAAA,C,EAbrC,CAAA,EAAjB,iBAAiB,CAAjB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACWb,QAAa,cAAb;AAAA;AAAA,KAAA;;AAAa,IAAA,cAAc,GAAA,kCAAA,CAAA,YAAA,CAAA,CAAA,CAb1B,MAAA,CAAA,0CAAA,CAAA,UAAA,CAAA,CAAA,CAAS;AACR,MAAA,YAAY,EAAE,CAAC,iDAAA,CAAA,mBAAA,CAAD,CADN;AAER,MAAA,OAAO,EAAE,CACP,4CAAA,CAAA,cAAA,CADO,EAEP,2CAAA,CAAA,qBAAA,CAFO,EAGP,6CAAA,CAAA,gBAAA,CAHO,EAIP,8CAAA,CAAA,iBAAA,CAJO,EAKP,2CAAA,CAAA,cAAA,CALO,EAMP,2CAAA,CAAA,cAAA,CANO,CAFD;AAWR,MAAA,OAAO,EAAC,CAAC,iDAAA,CAAA,mBAAA,CAAD;AAXA,KAAT,CAa0B,CAAA,EAAd,cAAc,CAAd;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChBb,QAAa,WAAb;AACE,2BAAoB,UAApB,EAAmD,cAAnD,EAAiF;AAAA;;AAA7D,aAAA,UAAA,GAAA,UAAA;AAA+B,aAAA,cAAA,GAAA,cAAA;AAAmC;;AADxF;AAAA;AAAA,kCAGS;AACL,iBAAO,KAAK,UAAL,CAAgB,GAAhB,CAAoB,yDAAA,CAAA,aAAA,CAAA,CAAY,OAAZ,GAAsB,WAA1C,CAAP;AACD;AALH;AAAA;AAAA,2CAOkB;AACd,iBAAO,KAAK,UAAL,CAAgB,GAAhB,CAAoB,yDAAA,CAAA,aAAA,CAAA,CAAY,OAAZ,GAAsB,2BAAtB,GAAkD,KAAK,cAAL,CAAoB,OAApB,CAA4B,YAA5B,CAAtE,CAAP;AACD;AATH;AAAA;AAAA,gCAWU,IAXV,EAWc;AACV,cAAI,IAAI,GAAG,IAAI,CAAC,SAAL,CAAe,IAAf,CAAX;AACA,UAAA,OAAO,CAAC,GAAR,CAAY,MAAZ,EAAmB,IAAnB;AACA,cAAI,YAAY,GAAG,IAAI,iDAAA,CAAA,aAAA,CAAJ,CAAgB;AAAC,4BAAe;AAAhB,WAAhB,CAAnB;AACA,iBAAO,KAAK,UAAL,CAAgB,IAAhB,CAAqB,yDAAA,CAAA,aAAA,CAAA,CAAY,OAAZ,GAAsB,WAA3C,EAAuD,IAAvD,EAA4D;AAAC,YAAA,OAAO,EAAC;AAAT,WAA5D,CAAP;AACD;AAhBH;AAAA;AAAA,mCAkBa,IAlBb,EAkBiB;AACb,cAAI,IAAI,GAAG,IAAI,CAAC,SAAL,CAAe,IAAf,CAAX;AACA,UAAA,OAAO,CAAC,GAAR,CAAY,MAAZ,EAAmB,IAAnB;AACA,cAAI,YAAY,GAAG,IAAI,iDAAA,CAAA,aAAA,CAAJ,CAAgB;AAAC,4BAAe;AAAhB,WAAhB,CAAnB;AACA,iBAAO,KAAK,UAAL,CAAgB,GAAhB,CAAoB,yDAAA,CAAA,aAAA,CAAA,CAAY,OAAZ,GAAsB,YAAtB,GAAoC,IAAI,CAAC,GAA7D,EAAkE,IAAlE,EAAuE;AAAC,YAAA,OAAO,EAAC;AAAT,WAAvE,CAAP;AACD;AAvBH;AAAA;AAAA,mCAyBa,EAzBb,EAyBe;AACX,iBAAO,KAAK,UAAL,CAAgB,MAAhB,CAAuB,yDAAA,CAAA,aAAA,CAAA,CAAY,OAAZ,GAAsB,YAAtB,GAAoC,EAA3D,CAAP;AACD;AA3BH;AAAA;AAAA,qCA6Be,MA7Bf,EA6BsB,EA7BtB,EA6BwB;AACpB,cAAI,IAAI,GAAG,IAAI,CAAC,SAAL,CAAe,MAAf,CAAX;AACA,UAAA,OAAO,CAAC,GAAR,CAAY,MAAZ,EAAmB,IAAnB;AACA,cAAI,YAAY,GAAG,IAAI,iDAAA,CAAA,aAAA,CAAJ,CAAgB;AAAC,4BAAe;AAAhB,WAAhB,CAAnB;AACA,iBAAO,KAAK,UAAL,CAAgB,GAAhB,CAAoB,yDAAA,CAAA,aAAA,CAAA,CAAY,OAAZ,GAAsB,0BAAtB,GAAkD,EAAtE,EAA0E,IAA1E,EAA+E;AAAC,YAAA,OAAO,EAAC;AAAT,WAA/E,CAAP;AACD;AAlCH;;AAAA;AAAA,OAAA;;;;cACiC,iDAAA,CAAA,YAAA;;cAAoC,6CAAA,CAAA,gBAAA;;;;AADxD,IAAA,WAAW,GAAA,kCAAA,CAAA,YAAA,CAAA,CAAA,CAHvB,MAAA,CAAA,0CAAA,CAAA,YAAA,CAAA,CAAA,CAAW;AACV,MAAA,UAAU,EAAE;AADF,KAAX,CAGuB,E,uEACS,iDAAA,CAAA,YAAA,C,EAAoC,6CAAA,CAAA,gBAAA,C,EAD7C,CAAA,EAAX,WAAW,CAAX","sourcesContent":["export default \"\\r\\n\\r\\n    <p-dialog  [maximizable]=\\\"true\\\" [(visible)]=\\\"displayDialog2\\\" (onHide)=\\\"onClose()\\\" [responsive]=\\\"true\\\" showEffect=\\\"fade\\\" [resizable]=\\\"false\\\" [modal]=\\\"true\\\"  [style]=\\\"{width: '400px'}\\\">\\r\\n        <p-header>\\r\\n                <span *ngIf=\\\"unitForm.value._id\\\">Update</span>\\r\\n                <span *ngIf=\\\"!unitForm.value._id\\\">Add</span> Unit\\r\\n        </p-header>\\r\\n        \\r\\n    <form [formGroup]=\\\"unitForm\\\">\\r\\n            <div class=\\\"ui-g ui-fluid\\\" >\\r\\n                \\r\\n    <div class=\\\"ui-g-12\\\">\\r\\n            <div class=\\\"ui-g-4\\\">\\r\\n                <label for=\\\"vin\\\">Unit Code</label>\\r\\n            </div>\\r\\n            <div class=\\\"ui-g-8\\\">\\r\\n                <input type=\\\"text\\\" pInputText formControlName=\\\"unit_code\\\"  disabled />\\r\\n            </div>\\r\\n        </div>\\r\\n                <div class=\\\"ui-g-12\\\">\\r\\n                    <div class=\\\"ui-g-4\\\">\\r\\n                        <label for=\\\"vin\\\">Unit Name</label>\\r\\n                    </div>\\r\\n                    <div class=\\\"ui-g-8\\\">\\r\\n                        <input pInputText id=\\\"vin\\\" formControlName=\\\"unit_name\\\" autofocus />\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"ui-g-12\\\">\\r\\n                    <div class=\\\"ui-g-4\\\">\\r\\n                        <label for=\\\"brand\\\">Status</label>\\r\\n                    </div>\\r\\n                    <div class=\\\"ui-g-8\\\">\\r\\n                        <p-dropdown [options]=\\\"status\\\" placeholder=\\\"Select Status\\\" formControlName=\\\"status\\\"></p-dropdown>\\r\\n        \\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <p-footer>\\r\\n                <div class=\\\"ui-dialog-buttonpane ui-helper-clearfix\\\">\\r\\n                    <button type=\\\"button\\\" pButton  icon=\\\"pi pi-save\\\" class=\\\"ui-button-success\\\" *ngIf=\\\"!unitForm.value._id\\\" (click)=\\\"addUnit()\\\" label=\\\"Add\\\"></button>\\r\\n                    <button type=\\\"button\\\" pButton  icon=\\\"pi pi-save\\\" class=\\\"ui-button-success\\\" *ngIf=\\\"unitForm.value._id\\\" (click)=\\\"updateUnit()\\\" label=\\\"Update\\\"></button>\\r\\n                </div>\\r\\n            </p-footer>\\r\\n        </form> \\r\\n        </p-dialog>\"","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudC9pbnZlbnRvcnktbW5ndC9zaGFyZWQvdW5pdC1mb3JtL3VuaXQtZm9ybS5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, EventEmitter, Input, Output } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { UnitService } from 'src/app/shared/unit.service';\r\nimport { CommonService } from 'src/app/shared/common.service';\r\nimport { SessionService } from 'src/app/shared/session.service';\r\nimport { MessageService } from 'primeng/api';\r\nimport * as _ from 'lodash';\r\n\r\n@Component({\r\n  selector: 'app-unit-form',\r\n  templateUrl: './unit-form.component.html',\r\n  styleUrls: ['./unit-form.component.scss']\r\n})\r\nexport class UnitFormComponent implements OnInit {\r\n\r\n \r\n  @Input() unitData: any;\r\n  @Input() displayDialog2: boolean\r\n  \r\n  @Output() displayChangeEvent2 = new EventEmitter();\r\n  @Output() unitEvent = new EventEmitter();\r\n\r\n  unitForm:FormGroup\r\n  status:any\r\n\r\n  constructor(private _fb: FormBuilder, private unitService:UnitService,private commonService: CommonService,\r\n    public sessionService: SessionService, private messageService: MessageService\r\n    ) {\r\n \r\n      this.status = [\r\n        {label:'Active', value:1},\r\n        {label:'De-Active', value:0},\r\n      ]\r\n\r\n      this.unitForm = this._fb.group({\r\n        _id: [''],\r\n        company_details_id: ['',Validators.required],\r\n        unit_code: ['',Validators.required],\r\n        unit_name: ['',Validators.required],\r\n        status: [1,Validators.required]\r\n      })\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  \r\n  ngOnChanges() {\r\n    console.log('displayDialog2',this.displayDialog2);   \r\n    console.log('isObjectcatData',_.isPlainObject(this.unitData))\r\n    if(_.isPlainObject(this.unitData)){      \r\n      console.log('catData',this.unitData);   \r\n      this.unitForm.controls['_id'].setValue(this.unitData._id);\r\n      this.unitForm.controls['unit_code'].setValue(this.unitData.unit_code);\r\n      this.unitForm.controls['unit_name'].setValue(this.unitData.unit_name);\r\n      this.unitForm.controls['company_details_id'].setValue(this.sessionService.getItem('company_id'))  \r\n      this.unitForm.controls['status'].setValue(this.unitData.status);    \r\n      }else{           \r\n      this.getUnitByCompany()\r\n      }\r\n\r\n  }\r\n\r\n  getUnitByCompany(){\r\n    this.unitService.getUnitByCompany()\r\n    .subscribe((data:any)=>{\r\n      console.log('unitList',data);  \r\n        this.unitForm.reset();\r\n        this.unitForm.controls['unit_code'].setValue(this.commonService.incrCode('u',data.length));\r\n        this.unitForm.controls['status'].setValue(1);\r\n        this.unitForm.controls['company_details_id'].setValue(this.sessionService.getItem('company_id'))       \r\n    })\r\n  }\r\n\r\n  public checkValidity(): void {\r\n    Object.keys(this.unitForm.controls).forEach((key) => {\r\n        this.unitForm.controls[key].markAsDirty();\r\n    });\r\n  }\r\n\r\n\r\n  addUnit(){\r\n    console.log('unitForm',this.unitForm);\r\n    if(this.unitForm.invalid){      \r\n      this.checkValidity()\r\n      return\r\n    }\r\n\r\n      this.unitService.addUnit(this.unitForm.value)\r\n      .subscribe((data:any)=>{\r\n        console.log('add unit',data);\r\n        // let newData = {\r\n        //   label : data.unit_name +' | ' +data.unit_code,\r\n        //   value : data._id\r\n        //  }\r\n         this.unitEvent.emit(data)\r\n        // this.unitList = [newData,...this.unitList];\r\n        // this.categoryList.push(data);\r\n        // console.log('this.unitList',this.unitList);\r\n        this.messageService.add({severity:'success', summary:'New Unit Added Successfully', detail:'New Unit Added Successfully'});\r\n        // this.stockForm.controls['unit_details_id'].setValue(data._id) \r\n        this.displayDialog2 = false;\r\n      },\r\n      error =>{\r\n        console.log(error);\r\n        this.messageService.add({severity:'error', summary:'Oopss!', detail:'Something went wrong!'});\r\n        this.displayDialog2 = false;\r\n  \r\n      })\r\n  }\r\n\r\n  updateUnit(){\r\n    console.log('unitForm',this.unitForm);\r\n    if(this.unitForm.invalid){      \r\n      this.checkValidity()\r\n      return\r\n    }\r\n\r\n      this.unitService.updateUnit(this.unitForm.value)\r\n      .subscribe((data:any)=>{\r\n        console.log('add unit',data);\r\n        // let newData = {\r\n        //   label : data.unit_name +' | ' +data.unit_code,\r\n        //   value : data._id\r\n        //  }\r\n         this.unitEvent.emit(data)\r\n        // this.unitList = [newData,...this.unitList];\r\n        // this.categoryList.push(data);\r\n        // console.log('this.unitList',this.unitList);\r\n        this.messageService.add({severity:'success', summary:'Unit Updated Successfully', detail:'Unit Updated Successfully'});\r\n        // this.stockForm.controls['unit_details_id'].setValue(data._id) \r\n        this.displayDialog2 = false;\r\n      },\r\n      error =>{\r\n        console.log(error);\r\n        this.messageService.add({severity:'error', summary:'Oopss!', detail:'Something went wrong!'});\r\n        this.displayDialog2 = false;\r\n  \r\n      })\r\n  }\r\n  \r\n  onClose(){\r\n    // this.displayDialog = false;\r\n    this.displayChangeEvent2.emit(false)\r\n  }\r\n\r\n    // Work against memory leak if component is destroyed\r\n    ngOnDestroy() {\r\n      this.displayChangeEvent2.unsubscribe();\r\n    }\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { UnitFormComponent } from './unit-form.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { InputTextModule } from 'primeng/inputtext';\r\nimport { ButtonModule } from 'primeng/button';\r\nimport { DialogModule } from 'primeng/dialog';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [UnitFormComponent],\r\n  imports: [\r\n    CommonModule,    \r\n    ReactiveFormsModule,\r\n    DropdownModule,\r\n    InputTextModule,\r\n    ButtonModule,\r\n    DialogModule,\r\n    // GooglePlaceModule\r\n  ],\r\n  exports:[UnitFormComponent]\r\n})\r\nexport class UnitFormModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { environment } from 'src/environments/environment';\r\nimport { SessionService } from './session.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UnitService {\r\n  constructor(private httpClient:HttpClient, private sessionService: SessionService) { }\r\n\r\n  getUnit(){\r\n    return this.httpClient.get(environment.api_url + '/api/unit');\r\n  }\r\n  \r\n  getUnitByCompany(){\r\n    return this.httpClient.get(environment.api_url + '/api/unit/get-by-company/'+this.sessionService.getItem('company_id'));\r\n  }\r\n\r\n  addUnit(data){\r\n    var body = JSON.stringify(data);\r\n    console.log('body',body);\r\n    var headerOption = new HttpHeaders({'Content-Type':'application/json'});\r\n    return this.httpClient.post(environment.api_url + '/api/unit',body,{headers:headerOption});\r\n  }\r\n\r\n  updateUnit(data){\r\n    var body = JSON.stringify(data);\r\n    console.log('body',body);\r\n    var headerOption = new HttpHeaders({'Content-Type':'application/json'});\r\n    return this.httpClient.put(environment.api_url + '/api/unit/'+ data._id ,body,{headers:headerOption});\r\n  }\r\n\r\n  deleteUnit(id){\r\n    return this.httpClient.delete(environment.api_url + '/api/unit/'+ id);\r\n  }\r\n\r\n  updateStatus(status,id){\r\n    var body = JSON.stringify(status);\r\n    console.log('body',body);\r\n    var headerOption = new HttpHeaders({'Content-Type':'application/json'});\r\n    return this.httpClient.put(environment.api_url + '/api/unit/status-update/'+ id ,body,{headers:headerOption});\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///","file":"default~component-inventory-mngt-purchase-purchase-purchase-module~component-inventory-mngt-sales-sa~105a02a9-es5.js"}