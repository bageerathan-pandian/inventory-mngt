{"version":3,"sources":["./src/app/component/inventory-mngt/purchase/purchase/purchase.component.html","./src/app/component/inventory-mngt/purchase/purchase/purchase-routing.module.ts","./src/app/component/inventory-mngt/purchase/purchase/purchase.component.scss","./src/app/component/inventory-mngt/purchase/purchase/purchase.component.ts","./src/app/component/inventory-mngt/purchase/purchase/purchase.module.ts"],"names":[],"mappings":"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","file":"component-inventory-mngt-purchase-purchase-purchase-module-es2015.js","sourcesContent":["export default \"\\r\\n<p-confirmDialog header=\\\"Confirmation\\\" icon=\\\"pi pi-exclamation-triangle\\\"></p-confirmDialog>\\r\\n\\r\\n<p-breadcrumb [model]=\\\"bradCrum\\\"></p-breadcrumb>\\r\\n<form class=\\\"example-form sec\\\" [formGroup]=\\\"purchaseInvoiceForm\\\">\\r\\n<div style=\\\"margin-top: 15px;\\\">\\r\\n<p-card>\\r\\n\\r\\n<div class=\\\"ui-g ui-fluid\\\">\\r\\n        \\r\\n<div class=\\\"ui-g-2\\\">\\r\\n        <div class=\\\"ui-g-12\\\">\\r\\n                Invoice No.:  <input pInputText type=\\\"text\\\" formControlName=\\\"invoice_purchase_code\\\"  readonly required>\\r\\n            </div>\\r\\n</div>\\r\\n<div class=\\\"ui-g-2\\\">\\r\\n            <div class=\\\"ui-g-12\\\">\\r\\n                Purchase Date:  <p-calendar [showIcon]=\\\"true\\\"  [readonlyInput]=\\\"true\\\" formControlName=\\\"invoice_date\\\"  [maxDate]=\\\"today\\\" ></p-calendar>\\r\\n            </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"ui-g-2\\\">\\r\\n\\r\\n        <div class=\\\"ui-g-12\\\">\\r\\n                Supplier Name: <p-dropdown [options]=\\\"supplierList\\\"   placeholder=\\\"Select Supplier\\\"  formControlName=\\\"supplier_details_id\\\"  filter=\\\"true\\\" (onChange)=\\\"onSelectSup($event)\\\" ></p-dropdown>\\r\\n                <p class=\\\"warning-msg\\\" style=\\\"position: absolute;\\\">\\r\\n                        <em *ngIf=\\\"purchaseInvoiceForm.value.supplier_details_id && selectedSupplierData.total_pending_amt\\\">*Amt to be paid :\\r\\n                                {{selectedSupplierData.total_pending_amt | currency : 'INR':true}}\\r\\n                        </em>\\r\\n                </p>\\r\\n           </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"ui-g-2\\\">\\r\\n           <div class=\\\"ui-g-12\\\">\\r\\n                Supplier Address:  <input pInputText type=\\\"text\\\" value=\\\"{{selectedSupplierData.supplier_address}}\\\" readonly > \\r\\n        </div> \\r\\n</div>\\r\\n\\r\\n<div class=\\\"ui-g-2\\\">\\r\\n        <!-- <pre>{{ selectedSupplierData | json }}</pre> -->\\r\\n        \\r\\n        \\r\\n         <div class=\\\"ui-g-12\\\">\\r\\n                \\r\\n        Phone:  <input pInputText type=\\\"text\\\" value=\\\"{{selectedSupplierData.phone}}\\\" readonly >\\r\\n        </div>\\r\\n    \\r\\n\\r\\n\\r\\n</div>\\r\\n\\r\\n<div class=\\\"ui-g-3\\\">\\r\\n\\r\\n</div>\\r\\n\\r\\n</div>\\r\\n\\r\\n      \\r\\n\\r\\n\\r\\n</p-card>\\r\\n\\r\\n</div>\\r\\n<div style=\\\"margin-top: 15px;\\\">\\r\\n    \\r\\n<p-card>\\r\\n<div formArrayName=\\\"invoiceList\\\">\\r\\n   \\r\\n        <table style=\\\"margin-bottom: 15px;\\\">\\r\\n                <thead>\\r\\n                <tr>\\r\\n                        <th style=\\\"width:5em\\\">Order #</th>\\r\\n                        <th style=\\\"width:20em\\\">Product Name/Code</th>\\r\\n                        <th>Price</th>\\r\\n                        <th>MRP</th>\\r\\n                        <th>Qty</th>\\r\\n                        <th>GST(%)</th>\\r\\n                        <th class=\\\"with-gst\\\">Total</th>\\r\\n                        <th style=\\\"width:8em\\\"></th>\\r\\n                    </tr>\\r\\n                    </thead>\\r\\n                    <tbody>\\r\\n            <tr *ngFor=\\\"let itemrow of purchaseInvoiceForm.get('invoiceList')['controls']; let i=index\\\"\\r\\n            [formGroupName]=\\\"i\\\">\\r\\n                <td >\\r\\n                  {{i + 1}}\\r\\n                </td>\\r\\n               <td >\\r\\n                           <!-- <p-dropdown [options]=\\\"stocksList\\\" formControlName=\\\"stock_details_id\\\" (onChange)=\\\"onSelectProduct($event,i)\\\" required placeholder=\\\"Select a Product\\\"   filter=\\\"true\\\">\\r\\n                            \\r\\n                       </p-dropdown>  -->\\r\\n                       <p-autoComplete autofocus=\\\"true\\\" formControlName=\\\"stock_details_id\\\" [suggestions]=\\\"stocksListResult\\\" (completeMethod)=\\\"searchProduct($event)\\\" (onSelect)=\\\"onSelectProduct($event,i)\\\" [dropdown]=\\\"true\\\" field=\\\"label\\\" [forceSelection]=\\\"true\\\" placeholder=\\\"Enter Product's Name/Code\\\"></p-autoComplete>\\r\\n\\r\\n                       \\r\\n               </td>\\r\\n               <td class=\\\"hidden-spinner\\\" style=\\\"width: 15%;\\\">\\r\\n                       <p-spinner [step]=\\\"0.25\\\"  formControlName=\\\"price\\\" [min]=\\\"1\\\" [max]=\\\"itemrow.get('mrp').value\\\" (keyup)=\\\"onChangeQty(i)\\\"  [formatInput]=\\\"true\\\" [disabled]=\\\"purchaseInvoiceForm.value.invoiceList[i].stock_details_id ? false : true\\\"  required></p-spinner>\\r\\n\\r\\n                      \\r\\n               </td>\\r\\n               <td class=\\\"hidden-spinner\\\" style=\\\"width: 15%;\\\">\\r\\n                <p-spinner size=\\\"30\\\"  formControlName=\\\"mrp\\\"  [formatInput]=\\\"true\\\" [disabled]=\\\"true\\\"></p-spinner>\\r\\n\\r\\n               \\r\\n        </td>\\r\\n               <td>\\r\\n                       <p-spinner  formControlName=\\\"qty\\\"  required pKeyFilter=\\\"int\\\" [min]=\\\"1\\\" (focusout)=\\\"onChangeQty(i)\\\" (onChange)=\\\"onChangeQty(i)\\\" [disabled]=\\\"purchaseInvoiceForm.value.invoiceList[i].stock_details_id ? false : true\\\" ></p-spinner>\\r\\n                     \\r\\n                </td>\\r\\n                <td class=\\\"hidden-spinner\\\" >\\r\\n                        <p-spinner size=\\\"30\\\"  formControlName=\\\"gst_per\\\"  [formatInput]=\\\"true\\\" [disabled]=\\\"true\\\"></p-spinner>\\r\\n \\r\\n                        <p class=\\\"error-msg\\\" style=\\\"position: absolute;    color: #222;\\\">\\r\\n                                <em >*{{purchaseInvoiceForm.value.invoiceList[i].tax_name}}</em>\\r\\n                                </p>                        \\r\\n                </td>\\r\\n\\r\\n\\r\\n               <td class=\\\"hidden-spinner\\\" style=\\\"width: 15%;\\\">\\r\\n                <p-spinner [step]=\\\"0.25\\\" formControlName=\\\"total_with_gst\\\" [formatInput]=\\\"true\\\" [disabled]=\\\"true\\\"></p-spinner>\\r\\n\\r\\n        </td>\\r\\n               <td >\\r\\n                <button  pButton type=\\\"button\\\"  icon=\\\"pi pi-trash\\\" class=\\\"ui-button-danger\\\" (click)=\\\"deleteListItem(i)\\\" *ngIf=\\\"i != 0\\\"  style=\\\"    margin: 0px 5px;\\\"></button>\\r\\n                            <button  pButton type=\\\"button\\\"  icon=\\\"pi pi-plus\\\" class=\\\"ui-button-success\\\" (click)=\\\"addListItem()\\\" *ngIf=\\\"i == 0\\\"  style=\\\"    margin: 0px 5px;\\\"></button>\\r\\n                           </td>\\r\\n           </tr>\\r\\n        </tbody>\\r\\n        </table>\\r\\n</div>\\r\\n   \\r\\n<div class=\\\"ui-g ui-fluid\\\">\\r\\n        <div class=\\\"ui-g-12 ui-md-6\\\" style=\\\"text-align: center\\\">\\r\\n                <h6>Grand Total <em *ngIf=\\\"purchaseInvoiceForm.value.tax_enable\\\">(with GST)</em></h6>\\r\\n                <h1 style=\\\"font-size: 50px;\\\" [ngStyle]=\\\"{'color': purchaseInvoiceForm.value.tax_enable ? '#34a835' : '#ffba01'}\\\">{{ purchaseInvoiceForm.value.grand_total | currency :'INR':true}}</h1>\\r\\n        </div>\\r\\n        <div class=\\\"ui-g-12 ui-md-6\\\">\\r\\n        <div class=\\\"ui-g-12 ui-md-6\\\">\\r\\n    <div class=\\\"ui-g-12\\\">  \\r\\n        <div class=\\\"ui-g-12  ui-md-5\\\"><p style=\\\"padding: 0;\\\"> Sub Amount: </p> </div>\\r\\n        <div class=\\\"ui-g-12  ui-md-5\\\"><b>{{purchaseInvoiceForm.value.sub_total  | currency : 'INR':true}}</b> </div>\\r\\n    </div>   \\r\\n    <div class=\\\"ui-g-12\\\"> \\r\\n        <div class=\\\"ui-g-12  ui-md-5\\\"><p style=\\\"padding: 0;\\\"> SGST: </p> </div>\\r\\n        <div class=\\\"ui-g-12  ui-md-5\\\"><b>{{purchaseInvoiceForm.value.sgst  | currency : 'INR':true}}</b> </div>\\r\\n    </div>   \\r\\n    <div class=\\\"ui-g-12\\\"> \\r\\n        <div class=\\\"ui-g-12  ui-md-5\\\"><p style=\\\"padding: 0;\\\"> CGST:  </p> </div>\\r\\n        <div class=\\\"ui-g-12  ui-md-5\\\"><b>{{purchaseInvoiceForm.value.cgst  | currency : 'INR':true}}</b> </div>\\r\\n    </div>   \\r\\n    <div class=\\\"ui-g-12\\\"> \\r\\n        <div class=\\\"ui-g-12  ui-md-5\\\"><p style=\\\"padding: 0;\\\"> Grand Total:  </p> </div>\\r\\n        <div class=\\\"ui-g-12  ui-md-5\\\"><b>{{purchaseInvoiceForm.value.grand_total  | currency : 'INR':true}}</b> </div>\\r\\n    </div>   \\r\\n    \\r\\n    \\r\\n    <div class=\\\"ui-g-12\\\">     \\r\\n          <p-checkbox name=\\\"tax\\\" binary=\\\"true\\\" disabled=\\\"true\\\" (onChange)=\\\"toggleTax($event)\\\"  formControlName=\\\"tax_enable\\\" label=\\\"Enable Tax\\\" ></p-checkbox>\\r\\n    </div>\\r\\n            </div>\\r\\n        <div class=\\\"ui-g-12 ui-md-6\\\">\\r\\n                \\r\\n                Discount : <input pInputText type=\\\"text\\\" pKeyFilter=\\\"int\\\"  required max=\\\"{{purchaseInvoiceForm.value.grand_total}}\\\"  formControlName=\\\"discount\\\"   (keyup)=\\\"onChangeDiscount()\\\"  >\\r\\n                Payment Status : <p-dropdown [options]=\\\"paymentStatus\\\"   placeholder=\\\"Select Status\\\"   formControlName=\\\"payment_status\\\" required ></p-dropdown> \\r\\n             \\r\\n              Payment Type : <p-dropdown [options]=\\\"paymentType\\\"   placeholder=\\\"Select Payment\\\"   formControlName=\\\"payment_type\\\" required ></p-dropdown>\\r\\n               Paind Amount : <input pInputText type=\\\"text\\\" pKeyFilter=\\\"int\\\"  required   formControlName=\\\"paid_amount\\\"   (keyup)=\\\"onChangePaindAmount()\\\"  >\\r\\n               Balance Amount : <input pInputText type=\\\"text\\\" pKeyFilter=\\\"int\\\"  required   formControlName=\\\"balance_amount\\\"    >\\r\\n            </div>\\r\\n        </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"ui-g ui-fluid\\\">\\r\\n\\r\\n        <div class=\\\"ui-g-2\\\">\\r\\n                <button pButton type=\\\"button\\\" label=\\\"Reset\\\" icon=\\\"pi pi-replay\\\" class=\\\"ui-button-secondary\\\" (click)=\\\"onReset()\\\"></button>\\r\\n            </div>\\r\\n        <div class=\\\"ui-g-2\\\">\\r\\n                <button pButton type=\\\"button\\\" (click)=\\\"saveOrder()\\\" label=\\\"Save\\\" icon=\\\"pi pi-save\\\" class=\\\"ui-button-success\\\"></button>\\r\\n            </div>\\r\\n            <!-- <div class=\\\"ui-g-2\\\">\\r\\n                    <button pButton type=\\\"button\\\" (click)=\\\"scanBarcode()\\\" label=\\\"Scan\\\" icon=\\\"pi pi-search\\\" class=\\\"ui-button-success\\\"></button>\\r\\n                </div> -->\\r\\n        <!-- <div class=\\\"ui-g-2\\\">\\r\\n                <p-splitButton label=\\\"Print Order\\\" icon=\\\"pi pi-print\\\" (click)=\\\"printOrderWithoutView()\\\" [model]=\\\"printItems\\\" styleClass=\\\"ui-button-warning\\\"></p-splitButton>\\r\\n        </div> -->\\r\\n        <!-- <div class=\\\"ui-g-2\\\">\\r\\n            <button pButton type=\\\"button\\\" label=\\\"Print Priview\\\" icon=\\\"pi pi-print\\\" (click)=\\\"printPriview()\\\"  class=\\\"ui-button-warning\\\"  ></button>\\r\\n        </div> -->\\r\\n    </div>\\r\\n\\r\\n\\r\\n\\r\\n</p-card>\\r\\n</div>\\r\\n</form>\\r\\n\\r\\n\\r\\n<app-stock-form [displayDialog]=\\\"displayDialog\\\" (categoryDialogEvent)=\\\"categoryDialog($event)\\\" (unitDialogEvent)=\\\"unitDialog($event)\\\" [formType]=\\\"formType\\\" [stockData]=\\\"stockData\\\" [catData]=\\\"catData\\\" [unitData]=\\\"unitData\\\" (stockEvent)=\\\"receiveStock($event)\\\"  (displayChangeEvent)=\\\"onDialogClose($event)\\\"></app-stock-form>\\r\\n\\r\\n<app-category-form [displayDialog1]=\\\"displayDialog1\\\" (displayChangeEvent1)=\\\"onDialogClose1($event)\\\" (catEvent)=\\\"receiveCategory($event)\\\"></app-category-form>\\r\\n\\r\\n<app-unit-form [displayDialog2]=\\\"displayDialog2\\\" (displayChangeEvent2)=\\\"onDialogClose2($event)\\\"  (unitEvent)=\\\"receiveUnit($event)\\\"></app-unit-form>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n<app-supplier-form [displayDialog]=\\\"displayDialog3\\\" (displayChangeEvent)=\\\"onDialogClose3($event)\\\" (supplierEvent)=\\\"receiveSupplier($event)\\\" [supplierData]=\\\"supplierData\\\"></app-supplier-form>\\r\\n\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { PurchaseComponent } from './purchase.component';\r\n\r\nconst routes: Routes = [\r\n  {path:'',component:PurchaseComponent}\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class PurchaseRoutingModule { }\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudC9pbnZlbnRvcnktbW5ndC9wdXJjaGFzZS9wdXJjaGFzZS9wdXJjaGFzZS5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { ConfirmationService, MenuItem, MessageService } from 'primeng/api';\r\nimport { Category } from 'src/app/model/category.model';\r\nimport { Stock } from 'src/app/model/stock.model';\r\nimport { Customer } from 'src/app/model/customer.model';\r\nimport { Sales } from 'src/app/model/sales.model.';\r\nimport { FormGroup, FormBuilder, Validators, FormArray } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { PdfGeneratorService } from 'src/app/shared/pdf-generator.service';\r\nimport { SessionService } from 'src/app/shared/session.service';\r\nimport { CustomerService } from 'src/app/shared/customer.service';\r\nimport { StockService } from 'src/app/shared/stock.service';\r\nimport { CategoryService } from 'src/app/shared/category.service';\r\nimport { CommonService } from 'src/app/shared/common.service';\r\nimport { GooglePlaceDirective } from 'ngx-google-places-autocomplete';\r\nimport { Address } from 'ngx-google-places-autocomplete/objects/address';\r\nimport { environment } from 'src/environments/environment';\r\n\r\nimport * as _ from 'lodash';\r\nimport { Supplier } from 'src/app/model/supplier.model';\r\nimport { SuppierService } from 'src/app/shared/suppier.service';\r\nimport { PurchaseService } from 'src/app/shared/purchase.service';\r\n\r\n@Component({\r\n  selector: 'app-purchase',\r\n  templateUrl: './purchase.component.html',\r\n  styleUrls: ['./purchase.component.scss'],\r\n  providers: [ConfirmationService]\r\n})\r\nexport class PurchaseComponent implements OnInit {\r\n\r\n\r\n  public bradCrum: MenuItem[];\r\n  filteredBrands: any[];\r\n  categoryList: Category[];\r\n  stocks: Stock[];\r\n  suppliers: Supplier[];\r\n  stocksList: any = [];\r\n  supplierList: any = [];\r\n  cities1: any = [];\r\n  salesList: Sales[] = [];\r\n  invoiceDate: any = new Date();\r\n  rowData: any = {};\r\n  paymentStatus: any = [];\r\n  paymentType: any = [];\r\n  discountPer: any = [];\r\n  purchaseInvoiceForm: FormGroup;\r\n  customerForm: FormGroup\r\n  invoice_id: number;\r\n  customerName: any;\r\n  discount: number = 0.00;\r\n  sub_total: number = 0.00;\r\n  grand_total: number = 0.00;\r\n  payment_type: number;\r\n  payment_status: number;\r\n\r\n  status: any\r\n  pdfUrl: string;\r\n  showPdf: boolean = false;\r\n\r\n  displayDialog: boolean;\r\n  displayDialog1: boolean;\r\n  displayDialog2: boolean;\r\n  displayDialog3: boolean;\r\n\r\n  stockData: any = []// pass data to another component\r\n  supplierData: any = [] // pass data to another component\r\n  catData: any = [] // pass data to another component\r\n  unitData: any = [] // pass data to another component\r\n  formType: string = 'purchase'\r\n\r\n  invoiceArray: any = [];\r\n  @ViewChild(\"form\", { static: false }) form;\r\n  @ViewChild('printDiv', { static: false }) printDiv: ElementRef;\r\n  selectedSupplierData: any = []\r\n  today: any = new Date()\r\n  stocksListResult: any = []\r\n\r\n  constructor(private _fb: FormBuilder,\r\n    private router: Router,\r\n    private messageService: MessageService, private supplierService: SuppierService, private stockService: StockService, private categoryService: CategoryService, private purchaseService: PurchaseService, private commonService: CommonService,\r\n    private pdfGenerator: PdfGeneratorService,\r\n    public sessionService: SessionService\r\n  ) {\r\n    // let invalidDate = new Date();\r\n    // this.invalidDates = [invalidDate];\r\n    this.purchaseInvoiceForm = this._fb.group({\r\n      _id: [''],\r\n      company_details_id: [this.sessionService.getItem('company_id'), Validators.required],\r\n      customer_details_id_total_purchase_amt: [0.00, Validators.required],\r\n      customer_details_id_total_paid_amt: [0.00, Validators.required],\r\n      customer_details_id_total_pending_amt: [0.00, Validators.required],\r\n      invoice_purchase_code: ['', Validators.required],\r\n      invoice_date: [new Date(), Validators.required],\r\n      supplier_details_id: ['', Validators.required],\r\n      invoiceList: this._fb.array([\r\n        this.initRowFirst()\r\n      ]),\r\n      sub_total: [0.00],\r\n      discount: [0.00],\r\n      grand_total: [0.00, Validators.required],\r\n      cgst: [0.00],\r\n      sgst: [0.00],\r\n      tax_enable: [true],\r\n      payment_type: [1, Validators.required],\r\n      paid_amount: [0.00, Validators.required],\r\n      balance_amount: [0.00, Validators.required],\r\n      payment_status: [2, Validators.required]\r\n    })\r\n\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.bradCrum = [\r\n      {\r\n        label: '', icon: 'pi pi-home', command: (event) => {\r\n          this.router.navigate(['/inventory-mngt/dashboard'])\r\n        }\r\n      },\r\n      {\r\n        label: \"Purchase\",\r\n        command: event => {\r\n          this.router.navigate([\"/inventory-mngt/purchase\"]);\r\n        }\r\n      }\r\n    ];\r\n\r\n    this.status = [\r\n      { label: 'Active', value: 1 },\r\n      { label: 'De-Active', value: 0 },\r\n    ]\r\n\r\n    this.paymentType = [\r\n      { label: 'Cash', value: 1 },\r\n      { label: 'Card', value: 2 },\r\n    ]\r\n    this.paymentStatus = [\r\n      { label: 'Paid', value: 1 },\r\n      { label: 'Pending', value: 2 },\r\n    ]\r\n    this.discountPer = [\r\n      { label: '5%', value: 1 },\r\n      { label: '10%', value: 2 }\r\n    ]\r\n\r\n    this.getLastInvoiceByCompany();\r\n    this.getSupplierByCompany();\r\n    this.getCategoryByCompany();\r\n    this.getStockByCompany();\r\n\r\n    this.purchaseInvoiceForm.controls['company_details_id'].setValue(this.sessionService.getItem('company_id'))\r\n  }\r\n\r\n  @ViewChild(\"placesRef\", { static: false }) placesRef: GooglePlaceDirective;\r\n\r\n  public handleAddressChange(address: Address) {\r\n    console.log('address', address);\r\n    // Do some stuff\r\n    this.customerForm.controls['customer_address'].setValue(address.formatted_address);\r\n  }\r\n\r\n  public checkValidity(): void {\r\n    Object.keys(this.purchaseInvoiceForm.controls).forEach((key) => {\r\n      console.log('key', key)\r\n      this.purchaseInvoiceForm.controls[key].markAsDirty();\r\n    });\r\n    Object.keys(this.purchaseInvoiceForm.get('invoiceList')['controls']).forEach((key1) => {\r\n      console.log('key1', key1)\r\n      Object.keys(this.purchaseInvoiceForm.get('invoiceList')['controls'][key1].controls).forEach((key2) => {\r\n        console.log('key2', key2)\r\n        console.log('invoiceList', this.purchaseInvoiceForm.get('invoiceList')['controls'][key1].controls[key2])\r\n        this.purchaseInvoiceForm.get('invoiceList')['controls'][key1].controls[key2].markAsDirty();\r\n      });\r\n    });\r\n  }\r\n\r\n  public checkValidityCus(): void {\r\n    Object.keys(this.customerForm.controls).forEach((key) => {\r\n      this.customerForm.controls[key].markAsDirty();\r\n    });\r\n  }\r\n\r\n  priviewPdf() {\r\n    this.pdfGenerator.testPdg()\r\n      .subscribe((data: any) => {\r\n        console.log('testPdf', data);\r\n        console.log('url', environment.api_url + data);\r\n        // printJS('docs/'+ environment.api_url + data)\r\n        // printJS({printable:'docs/'+environment.api_url + data +\"'\", type:'pdf', showModal:true})\r\n      })\r\n  }\r\n\r\n  printOrder() {\r\n\r\n    // let elementCopy = this.printDiv(true);\r\n    // this.printDiv.nativeElement.appendChild();\r\n    // document.body.appendChild(this.printDiv.nativeElement);\r\n\r\n    // window.print();\r\n\r\n    // printJS('print-section', 'html')\r\n  }\r\n\r\n  printOrderWithoutView() {\r\n\r\n  }\r\n\r\n  initRowFirst() {\r\n    return this._fb.group({\r\n      stock_details_id: ['', Validators.required],\r\n      stock_name: ['', Validators.required],\r\n      price: ['', Validators.required],\r\n      mrp: ['', Validators.required],\r\n      qty: ['', Validators.required],\r\n      total_qty: ['', Validators.required],\r\n      tax_name: ['', Validators.required],\r\n      cgst_amt: [0.00, Validators.required],\r\n      sgst_amt: [0.00, Validators.required],\r\n      gst_per: ['', Validators.required],\r\n      total: ['', Validators.required],\r\n      total_with_gst: ['', Validators.required]\r\n    });\r\n  }\r\n\r\n  getLastInvoiceByCompany() {\r\n    this.purchaseService.getLastInvoice()\r\n      .subscribe((data: any) => {\r\n        console.log('getLastInvoice', data);\r\n        this.purchaseInvoiceForm.controls['invoice_purchase_code'].setValue(this.commonService.incrCode('INV', data));\r\n      },\r\n        error => {\r\n          this.purchaseInvoiceForm.controls['invoice_purchase_code'].setValue(this.commonService.incrCode('INV', 0));\r\n        })\r\n  }\r\n\r\n\r\n  getSupplierByCompany() {\r\n    this.supplierList = []\r\n    this.supplierService.getSupplierByCompany()\r\n      .subscribe((data: any) => {\r\n        console.log('supplierList', data);\r\n        this.suppliers = data;\r\n        this.supplierList.push({ label: '+ Add New Supplier', value: 0 });\r\n        for (let custData of this.suppliers) {\r\n          let listSup = {\r\n            label: custData.supplier_name + ' | ' + custData.supplier_code,\r\n            value: custData._id\r\n          }\r\n          this.supplierList.push(listSup);\r\n        }\r\n        console.log('customerList', this.supplierList);\r\n      })\r\n  }\r\n\r\n  getCategoryByCompany() {\r\n    this.categoryService.getCategoryByCompany()\r\n      .subscribe((data: any) => {\r\n        console.log('categoryList', data);\r\n        this.categoryList = data;\r\n      })\r\n  }\r\n\r\n  getStockByCompany() {\r\n    this.stocks = [];\r\n    this.stocksList = [];\r\n    this.stockService.getStockByCompany()\r\n      .subscribe((data: any) => {\r\n        console.log('stocksList', data);\r\n        this.stocks = data;\r\n        // this.stocksList = data;\r\n        // this.stocksList.push({ label: '+ Add New Stock', value: 0 });\r\n        for (let stockData of this.stocks) {\r\n          let listStock = {\r\n            label: stockData.stock_name + ' | ' + stockData.stock_code,\r\n            value: stockData._id\r\n          }\r\n          this.stocksList.push(listStock);\r\n        }\r\n      })\r\n\r\n  }\r\n\r\n\r\n\r\n  addPurchase() {\r\n    console.log('invoiceArray', this.purchaseInvoiceForm.value);\r\n    this.purchaseInvoiceForm.get('supplier_details_id').setValue(this.selectedSupplierData._id)\r\n    this.purchaseInvoiceForm.get('invoiceList')['controls'].forEach(element => {\r\n      console.log(element.controls['stock_details_id'].value)\r\n      element.controls['stock_details_id'].setValue(element.controls['stock_details_id'].value.value)\r\n    });\r\n    this.purchaseService.addPurchase(this.purchaseInvoiceForm.value)\r\n      .subscribe((data: any) => {\r\n        console.log(data);\r\n        this.getStockByCompany() // refresh stock qty\r\n        this.selectedSupplierData = []\r\n        this.purchaseInvoiceForm.controls['company_details_id'].setValue(this.sessionService.getItem('company_id'))\r\n        this.purchaseInvoiceForm.controls['invoice_purchase_code'].setValue(this.commonService.incrCode('INV', data));\r\n        this.purchaseInvoiceForm.controls['invoice_date'].setValue(new Date());\r\n        this.purchaseInvoiceForm.controls['invoiceList'].reset()\r\n        const control = <FormArray>this.purchaseInvoiceForm.controls['invoiceList'];\r\n        control.clear();\r\n        control.push(this.initRowFirst());\r\n        this.purchaseInvoiceForm.controls['sub_total'].setValue(0.00);\r\n        this.purchaseInvoiceForm.controls['discount'].setValue(0.00);\r\n        this.purchaseInvoiceForm.controls['paid_amount'].setValue(0.00);\r\n        this.purchaseInvoiceForm.controls['balance_amount'].setValue(0.00);\r\n        this.purchaseInvoiceForm.controls['grand_total'].setValue(0.00);\r\n        this.purchaseInvoiceForm.controls['cgst'].setValue(0.00);\r\n        this.purchaseInvoiceForm.controls['sgst'].setValue(0.00);\r\n        this.purchaseInvoiceForm.controls['payment_type'].setValue(1);\r\n        this.purchaseInvoiceForm.controls['payment_status'].setValue(1);\r\n        this.purchaseInvoiceForm.controls['tax_enable'].setValue(true);\r\n\r\n\r\n      })\r\n  }\r\n\r\n  saveOrder() {\r\n    console.log(this.purchaseInvoiceForm.value);\r\n    if (this.purchaseInvoiceForm.invalid) {\r\n      this.checkValidity()\r\n      this.messageService.add({ severity: 'error', summary: 'Oopss!', detail: 'Please fill the mantatory field!' });\r\n      return false;\r\n    }\r\n    this.addPurchase()\r\n  }\r\n\r\n\r\n  onSelectSup(event) {\r\n    console.log(event.value);\r\n    if (event.value == 0) {\r\n      this.selectedSupplierData = []\r\n      this.displayDialog3 = true\r\n      this.purchaseInvoiceForm.controls['supplier_details_id'].reset();\r\n      return false\r\n    } else {\r\n      this.selectedSupplierData = _.find(this.suppliers, { '_id': event.value })\r\n      this.purchaseInvoiceForm.get('customer_details_id_total_purchase_amt').setValue(this.selectedSupplierData.total_purchase_amt ? this.selectedSupplierData.total_purchase_amt : 0)\r\n      this.purchaseInvoiceForm.get('customer_details_id_total_paid_amt').setValue(this.selectedSupplierData.total_paid_amt ? this.selectedSupplierData.total_paid_amt : 0)\r\n      this.purchaseInvoiceForm.get('customer_details_id_total_pending_amt').setValue(this.selectedSupplierData.total_pending_amt ? this.selectedSupplierData.total_pending_amt : 0)\r\n    \r\n    }\r\n\r\n  }\r\n\r\n\r\n  addListItem() {\r\n    if (this.purchaseInvoiceForm.controls['invoiceList'].invalid) {\r\n      this.checkValidity()\r\n      this.messageService.add({ severity: 'error', summary: 'Oopss!', detail: 'Please fill the mantatory field!' });\r\n      return false;\r\n    }\r\n    const control = <FormArray>this.purchaseInvoiceForm.controls['invoiceList'];\r\n    control.push(this.initRowFirst());\r\n    console.log(control)\r\n  }\r\n\r\n  deleteListItem(i) {\r\n    const control = <FormArray>this.purchaseInvoiceForm.controls['invoiceList'];\r\n    control.removeAt(i);\r\n    console.log(control)\r\n    this.calculateTotal()\r\n  }\r\n  onReset() {\r\n    // reset whole form back to initial state   \r\n    // this.purchaseInvoiceForm.reset();\r\n    // this.purchaseInvoiceForm.controls['invoice_code'].setValue(this.commonService.incrCode('INV',this.customerList.length)); \r\n    this.selectedSupplierData = []\r\n    this.purchaseInvoiceForm.controls['invoiceList'].reset()\r\n    const control = <FormArray>this.purchaseInvoiceForm.controls['invoiceList'];\r\n    control.clear();\r\n    control.push(this.initRowFirst());\r\n    this.purchaseInvoiceForm.controls['invoice_date'].setValue(new Date());\r\n    this.purchaseInvoiceForm.controls['sub_total'].setValue(0.00);\r\n    this.purchaseInvoiceForm.controls['discount'].setValue(0.00);\r\n    this.purchaseInvoiceForm.controls['paid_amount'].setValue(0.00);\r\n    this.purchaseInvoiceForm.controls['balance_amount'].setValue(0.00);\r\n    this.purchaseInvoiceForm.controls['grand_total'].setValue(0.00);\r\n    this.purchaseInvoiceForm.controls['sub_total'].setValue(0.00);\r\n    this.purchaseInvoiceForm.controls['discount'].setValue(0.00);\r\n    this.purchaseInvoiceForm.controls['cgst'].setValue(0.00);\r\n    this.purchaseInvoiceForm.controls['sgst'].setValue(0.00);\r\n    this.purchaseInvoiceForm.controls['tax_enable'].setValue(true);\r\n  }\r\n\r\n  onClear() {\r\n    // clear errors and reset ticket fields  \r\n  }\r\n\r\n\r\n  searchProduct(event) {\r\n    // this.mylookupservice.getResults(event.query).then(data => {\r\n    //     this.results = data;\r\n    // });\r\n    this.stocksListResult = this.stocksList.filter(item => item.label.toLowerCase().indexOf(event.query) >= 0)\r\n    this.stocksListResult.unshift({ label: '+ Add New Stock', value: 0 });\r\n  }\r\n\r\n  onSelectProduct(event, i) {\r\n    console.log(event.value, i);\r\n    if (event.value == 0) {\r\n      // this.showDialogToAddStock()\r\n      this.displayDialog = true;\r\n      this.purchaseInvoiceForm.get('invoiceList')['controls'][i].reset()\r\n      return false\r\n    }\r\n    console.log(this.purchaseInvoiceForm.value.invoiceList);\r\n    if (this.purchaseInvoiceForm.value.invoiceList.length > 1) {\r\n      let cloneInvoiceList = this.purchaseInvoiceForm.value.invoiceList.slice();\r\n      cloneInvoiceList.splice(i, 1); // to remove selected row\r\n      let stockAddedData = _.find(cloneInvoiceList, { 'stock_details_id': { value: event.value } })\r\n      console.log('stockAddedData', stockAddedData);\r\n      if (stockAddedData) {\r\n        this.messageService.add({ severity: 'warn', summary: 'Warning!', detail: 'Stock already added in invoice' });\r\n        this.purchaseInvoiceForm.get('invoiceList')['controls'][i].controls['stock_details_id'].reset()\r\n        return false\r\n      }\r\n    }\r\n\r\n    var sliceIndex = _.findIndex(this.stocks, function (o) { return o._id == event.value; });\r\n    console.log(sliceIndex);\r\n    if (sliceIndex > -1) {\r\n      // this.loggedInUsersList.splice(sliceIndex, 1);\r\n      console.log(this.stocks[sliceIndex]);\r\n      console.log(this.purchaseInvoiceForm.get('invoiceList')['controls'][i]);\r\n      // this.purchaseInvoiceForm.get('invoiceList')['controls'][i].controls['qty'].setValue(this.stocks[sliceIndex].stock_qty) \r\n      this.purchaseInvoiceForm.get('invoiceList')['controls'][i].controls['qty'].setValue(1)\r\n      this.purchaseInvoiceForm.get('invoiceList')['controls'][i].controls['stock_name'].setValue(this.stocks[sliceIndex].stock_name)\r\n      this.purchaseInvoiceForm.get('invoiceList')['controls'][i].controls['total_qty'].setValue(this.stocks[sliceIndex].stock_qty)\r\n      this.purchaseInvoiceForm.get('invoiceList')['controls'][i].controls['price'].setValue(this.stocks[sliceIndex].buying_price)\r\n      this.purchaseInvoiceForm.get('invoiceList')['controls'][i].controls['mrp'].setValue(this.stocks[sliceIndex].mrp)\r\n      this.purchaseInvoiceForm.get('invoiceList')['controls'][i].controls['tax_name'].setValue(this.stocks[sliceIndex].tax_details_id.tax_name)\r\n      let cgst_amt = Number(this.stocks[sliceIndex].buying_price) * (Number(this.stocks[sliceIndex].tax_details_id.tax_value_cgst) / 100);\r\n      this.purchaseInvoiceForm.get('invoiceList')['controls'][i].controls['cgst_amt'].setValue(cgst_amt);\r\n      let sgst_amt = Number(this.stocks[sliceIndex].buying_price) * (Number(this.stocks[sliceIndex].tax_details_id.tax_value_sgst) / 100);\r\n      this.purchaseInvoiceForm.get('invoiceList')['controls'][i].controls['sgst_amt'].setValue(sgst_amt)\r\n      let gst_pet = Number(this.stocks[sliceIndex].tax_details_id.tax_value_cgst) + Number(this.stocks[sliceIndex].tax_details_id.tax_value_sgst)\r\n      this.purchaseInvoiceForm.get('invoiceList')['controls'][i].controls['gst_per'].setValue(gst_pet)\r\n      this.purchaseInvoiceForm.get('invoiceList')['controls'][i].controls['total'].setValue(1 * this.stocks[sliceIndex].buying_price)\r\n      let total_amt_with_gst = ((1 * this.stocks[sliceIndex].buying_price) * gst_pet / 100) + this.stocks[sliceIndex].buying_price;\r\n      this.purchaseInvoiceForm.get('invoiceList')['controls'][i].controls['total_with_gst'].setValue(total_amt_with_gst)\r\n      this.calculateTotal()\r\n    }\r\n  }\r\n\r\n  onChangeQty(i) {\r\n    if (!this.purchaseInvoiceForm.get('invoiceList')['controls'][i].value.stock_details_id && this.purchaseInvoiceForm.get('invoiceList')['controls'][i].value.stock_details_id == '') {\r\n      return\r\n    }\r\n    if (this.purchaseInvoiceForm.get('invoiceList')['controls'][i].value.qty == 0 || this.purchaseInvoiceForm.get('invoiceList')['controls'][i].value.qty == '0') {\r\n      this.messageService.add({ severity: 'warn', summary: 'Warning!', detail: 'Quantity atleast 1' });\r\n      this.purchaseInvoiceForm.get('invoiceList')['controls'][i].controls['qty'].setValue(1)\r\n      return\r\n    }\r\n    console.log(i);\r\n    console.log(this.purchaseInvoiceForm.value.invoiceList[i].stock_details_id);\r\n    console.log(this.stocks);\r\n    console.log('qty', this.purchaseInvoiceForm.get('invoiceList')['controls'][i].value.qty);\r\n    let stockData = _.find(this.stocks, { '_id': this.purchaseInvoiceForm.value.invoiceList[i].stock_details_id })\r\n    // let stockDataAdded = _.find(this.purchaseInvoiceForm.value.invoiceList, { '_id': this.purchaseInvoiceForm.value.invoiceList[i].stock_details_id })\r\n    console.log(this.stocks[i]);\r\n    console.log('stockData', stockData);\r\n    console.log(this.purchaseInvoiceForm.get('invoiceList')['controls'][i].value);\r\n    this.purchaseInvoiceForm.get('invoiceList')['controls'][i].controls['total'].setValue(this.purchaseInvoiceForm.get('invoiceList')['controls'][i].value.qty * this.purchaseInvoiceForm.get('invoiceList')['controls'][i].value.price)\r\n\r\n    let cgst_amt = Number(this.purchaseInvoiceForm.get('invoiceList')['controls'][i].value.total) * (Number(this.stocks[i].tax_details_id.tax_value_cgst) / 100);\r\n    this.purchaseInvoiceForm.get('invoiceList')['controls'][i].controls['cgst_amt'].setValue(cgst_amt);\r\n    let sgst_amt = Number(this.purchaseInvoiceForm.get('invoiceList')['controls'][i].value.total) * (Number(this.stocks[i].tax_details_id.tax_value_sgst) / 100);\r\n    this.purchaseInvoiceForm.get('invoiceList')['controls'][i].controls['sgst_amt'].setValue(sgst_amt)\r\n    let total_amt_with_gst = this.purchaseInvoiceForm.get('invoiceList')['controls'][i].value.total * (this.purchaseInvoiceForm.get('invoiceList')['controls'][i].value.gst_per / 100) + this.purchaseInvoiceForm.get('invoiceList')['controls'][i].value.total;\r\n    this.purchaseInvoiceForm.get('invoiceList')['controls'][i].controls['total_with_gst'].setValue(total_amt_with_gst)\r\n    this.calculateTotal()\r\n\r\n  }\r\n\r\n  onChangeDiscount() {\r\n    // this.purchaseInvoiceForm.get('invoiceList')['controls'][i].controls['qty'].setValue(this.stocks[i].stock_qty) \r\n    // this.purchaseInvoiceForm.get('invoiceList')['controls'][i].controls['price'].setValue(this.stocks[i].selling_price)    \r\n    // this.calculateTotal()\r\n    if (this.purchaseInvoiceForm.controls['tax_enable'].value) {\r\n      this.purchaseInvoiceForm.controls['grand_total'].setValue((this.purchaseInvoiceForm.value.sub_total - this.purchaseInvoiceForm.value.discount) + this.purchaseInvoiceForm.value.cgst + this.purchaseInvoiceForm.value.sgst)\r\n    } else {\r\n      this.purchaseInvoiceForm.controls['grand_total'].setValue(this.purchaseInvoiceForm.value.sub_total - this.purchaseInvoiceForm.value.discount)\r\n    }\r\n  }\r\n\r\n  toggleTax(event) {\r\n    if (this.purchaseInvoiceForm.controls['grand_total'].value == 0) {\r\n      return false\r\n    }\r\n    this.calculateTotal()\r\n  }\r\n\r\n  calculateTotal() {\r\n\r\n    // subtotal\r\n    var sub_total = 0\r\n    var sub_total = _.sumBy(this.purchaseInvoiceForm.value.invoiceList, 'total')\r\n    console.log('sub_total1', sub_total);\r\n\r\n    this.purchaseInvoiceForm.controls['sub_total'].setValue(sub_total)\r\n\r\n    // cgst_total\r\n    var cgst_total = 0\r\n    var cgst_total = _.sumBy(this.purchaseInvoiceForm.value.invoiceList, 'cgst_amt')\r\n    this.purchaseInvoiceForm.controls['cgst'].setValue(cgst_total)\r\n\r\n    // sgst_total\r\n    var sgst_total = 0\r\n    var sgst_total = _.sumBy(this.purchaseInvoiceForm.value.invoiceList, 'sgst_amt')\r\n    this.purchaseInvoiceForm.controls['sgst'].setValue(sgst_total)\r\n\r\n    if (this.purchaseInvoiceForm.value.tax_enable) {\r\n      this.purchaseInvoiceForm.controls['grand_total'].setValue((sub_total - this.purchaseInvoiceForm.value.discount) + cgst_total + sgst_total)\r\n    } else {\r\n      this.purchaseInvoiceForm.controls['grand_total'].setValue(sub_total - this.purchaseInvoiceForm.value.discount)\r\n    }\r\n\r\n  }\r\n\r\n\r\n  onChangePaindAmount() {\r\n    this.purchaseInvoiceForm.controls['balance_amount'].setValue(this.purchaseInvoiceForm.value.grand_total - this.purchaseInvoiceForm.value.paid_amount)\r\n  }\r\n\r\n\r\n\r\n  receiveSupplier(event) {\r\n    console.log(event)\r\n    this.getSupplierByCompany()\r\n  }\r\n\r\n\r\n  receiveStock(event) {\r\n    console.log(event)\r\n    // this.stocksList = [event,...this.stocksList];\r\n    this.getStockByCompany()\r\n  }\r\n\r\n  receiveCategory(event) {\r\n    console.log('receiveCategory', event)\r\n    this.catData = event\r\n  }\r\n\r\n  receiveUnit(event) {\r\n    console.log('receiveUnit', event)\r\n    this.unitData = event\r\n  }\r\n\r\n\r\n  onDialogClose(event) {\r\n    console.log(event)\r\n    this.catData = []     // clear new cat data while open stock form\r\n    this.unitData = []  // clear new unit data while open stock form\r\n    this.displayDialog = false;\r\n  }\r\n\r\n  onDialogClose1(event) {\r\n    console.log(event)\r\n    this.displayDialog1 = false;\r\n  }\r\n\r\n  onDialogClose2(event) {\r\n    console.log(event)\r\n    this.displayDialog2 = false;\r\n  }\r\n\r\n  onDialogClose3(event) {\r\n    console.log(event)\r\n    this.displayDialog3 = false;\r\n  }\r\n\r\n  categoryDialog(event) {\r\n    console.log('categoryDialog', event)\r\n    this.displayDialog1 = event;\r\n  }\r\n\r\n  unitDialog(event) {\r\n    console.log('unitDialog', event)\r\n    this.displayDialog2 = event;\r\n  }\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { PurchaseRoutingModule } from './purchase-routing.module';\r\nimport { PurchaseComponent } from './purchase.component';\r\n\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\nimport { BreadcrumbModule } from 'primeng/breadcrumb';\r\nimport { ToastModule } from 'primeng/toast';\r\nimport { TableModule } from 'primeng/table';\r\nimport { ButtonModule } from 'primeng/button';\r\nimport { InputTextModule } from 'primeng/inputtext';\r\nimport { CardModule } from 'primeng/card';\r\nimport { AutoCompleteModule } from 'primeng/autocomplete';\r\nimport { CalendarModule } from 'primeng/calendar';\r\nimport { CheckboxModule } from 'primeng/checkbox';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { KeyFilterModule } from 'primeng/keyfilter';\r\nimport { InputMaskModule } from 'primeng/inputmask';\r\nimport { ConfirmDialogModule } from 'primeng/confirmdialog';\r\nimport { SpinnerModule } from 'primeng/spinner';\r\nimport { SplitButtonModule } from 'primeng/splitbutton';\r\nimport { InplaceModule } from 'primeng/inplace';\r\nimport { DialogModule } from 'primeng/dialog';\r\nimport { GooglePlaceModule } from 'ngx-google-places-autocomplete';\r\nimport { SidebarModule } from 'primeng/sidebar';\r\nimport { SafePipeModule } from 'safe-pipe';\r\nimport { StockFormModule } from '../../shared/stock-form/stock-form.module';\r\nimport { CategoryFormModule } from '../../shared/category-form/category-form.module';\r\nimport { UnitFormModule } from '../../shared/unit-form/unit-form.module';\r\nimport { SupplierFormModule } from '../../shared/supplier-form/supplier-form.module';\r\n\r\n@NgModule({\r\n  declarations: [PurchaseComponent],\r\n  imports: [\r\n    CommonModule,\r\n    PurchaseRoutingModule,   \r\n    ReactiveFormsModule,\r\n    BreadcrumbModule,\r\n    ToastModule,\r\n    TableModule,\r\n    ButtonModule,\r\n    InputTextModule,\r\n    FormsModule,\r\n    CardModule,\r\n    AutoCompleteModule,\r\n    CalendarModule,\r\n    CheckboxModule,\r\n    DropdownModule,\r\n    KeyFilterModule,\r\n    InputMaskModule,\r\n    ConfirmDialogModule,\r\n    SpinnerModule,\r\n    SplitButtonModule,\r\n    InplaceModule,\r\n    DialogModule,\r\n    GooglePlaceModule,\r\n    SidebarModule,\r\n    SafePipeModule,\r\n    StockFormModule,\r\n    CategoryFormModule,\r\n    UnitFormModule,\r\n    SupplierFormModule\r\n  ]\r\n})\r\nexport class PurchaseModule { }\r\n"],"sourceRoot":"webpack:///"}